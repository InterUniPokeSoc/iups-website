{"version":3,"file":"27e44016f86bf7f6d9d880cbf763605316920fe1-b47b497f2f1e289cdbe1.js","mappings":"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","sources":["webpack://i-ups/./node_modules/es5-ext/global.js","webpack://i-ups/./node_modules/websocket/lib/browser.js","webpack://i-ups/./node_modules/websocket/lib/version.js","webpack://i-ups/./src/components/loader.module.scss","webpack://i-ups/./src/components/loader.js","webpack://i-ups/./node_modules/@supabase/supabase-js/dist/module/lib/version.js","webpack://i-ups/./node_modules/@supabase/supabase-js/dist/module/lib/constants.js","webpack://i-ups/./node_modules/@supabase/supabase-js/dist/module/lib/helpers.js","webpack://i-ups/./node_modules/@supabase/gotrue-js/dist/module/lib/constants.js","webpack://i-ups/./node_modules/@supabase/gotrue-js/dist/module/lib/version.js","webpack://i-ups/./node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js","webpack://i-ups/./node_modules/@supabase/gotrue-js/dist/module/lib/cookies.js","webpack://i-ups/./node_modules/@supabase/gotrue-js/dist/module/lib/helpers.js","webpack://i-ups/./node_modules/@supabase/gotrue-js/dist/module/GoTrueApi.js","webpack://i-ups/./node_modules/@supabase/gotrue-js/dist/module/GoTrueClient.js","webpack://i-ups/./node_modules/@supabase/gotrue-js/dist/module/lib/polyfills.js","webpack://i-ups/./node_modules/@supabase/supabase-js/dist/module/lib/SupabaseAuthClient.js","webpack://i-ups/./node_modules/@supabase/postgrest-js/dist/module/lib/types.js","webpack://i-ups/./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestTransformBuilder.js","webpack://i-ups/./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestFilterBuilder.js","webpack://i-ups/./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestQueryBuilder.js","webpack://i-ups/./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestRpcBuilder.js","webpack://i-ups/./node_modules/@supabase/postgrest-js/dist/module/lib/version.js","webpack://i-ups/./node_modules/@supabase/postgrest-js/dist/module/lib/constants.js","webpack://i-ups/./node_modules/@supabase/postgrest-js/dist/module/PostgrestClient.js","webpack://i-ups/./node_modules/@supabase/realtime-js/dist/module/lib/transformers.js","webpack://i-ups/./node_modules/@supabase/realtime-js/dist/module/lib/version.js","webpack://i-ups/./node_modules/@supabase/realtime-js/dist/module/lib/constants.js","webpack://i-ups/./node_modules/@supabase/realtime-js/dist/module/lib/timer.js","webpack://i-ups/./node_modules/@supabase/realtime-js/dist/module/lib/serializer.js","webpack://i-ups/./node_modules/@supabase/realtime-js/dist/module/lib/push.js","webpack://i-ups/./node_modules/@supabase/realtime-js/dist/module/RealtimeSubscription.js","webpack://i-ups/./node_modules/@supabase/realtime-js/dist/module/RealtimeClient.js","webpack://i-ups/./node_modules/@supabase/supabase-js/dist/module/lib/SupabaseRealtimeClient.js","webpack://i-ups/./node_modules/@supabase/supabase-js/dist/module/lib/SupabaseQueryBuilder.js","webpack://i-ups/./node_modules/@supabase/storage-js/dist/module/lib/version.js","webpack://i-ups/./node_modules/@supabase/storage-js/dist/module/lib/constants.js","webpack://i-ups/./node_modules/@supabase/storage-js/dist/module/lib/fetch.js","webpack://i-ups/./node_modules/@supabase/storage-js/dist/module/lib/helpers.js","webpack://i-ups/./node_modules/@supabase/storage-js/dist/module/lib/StorageBucketApi.js","webpack://i-ups/./node_modules/@supabase/storage-js/dist/module/lib/StorageFileApi.js","webpack://i-ups/./node_modules/@supabase/storage-js/dist/module/StorageClient.js","webpack://i-ups/./node_modules/@supabase/functions-js/dist/module/helper.js","webpack://i-ups/./node_modules/@supabase/functions-js/dist/module/index.js","webpack://i-ups/./node_modules/@supabase/supabase-js/dist/module/SupabaseClient.js","webpack://i-ups/./node_modules/@supabase/supabase-js/dist/module/index.js","webpack://i-ups/./src/utils/supabase.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/a-callable.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/a-constructor.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/an-object.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/array-includes.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/classof-raw.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/classof.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/copy-constructor-properties.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/create-non-enumerable-property.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/create-property-descriptor.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/define-built-in.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/define-global-property.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/descriptors.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/document-create-element.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/engine-user-agent.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/engine-v8-version.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/enum-bug-keys.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/export.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/fails.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/function-bind-native.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/function-call.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/function-name.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/function-uncurry-this.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/get-built-in.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/get-method.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/global.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/has-own-property.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/hidden-keys.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/ie8-dom-define.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/indexed-object.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/inspect-source.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/internal-state.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/is-callable.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/is-constructor.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/is-forced.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/is-object.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/is-pure.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/is-symbol.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/length-of-array-like.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/make-built-in.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/math-trunc.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/native-symbol.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/native-weak-map.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/new-promise-capability.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/object-define-property.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/object-get-own-property-names.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/object-is-prototype-of.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/object-keys-internal.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/object-property-is-enumerable.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/ordinary-to-primitive.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/own-keys.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/promise-native-constructor.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/promise-resolve.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/require-object-coercible.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/shared-key.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/shared-store.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/shared.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/species-constructor.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/to-absolute-index.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/to-indexed-object.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/to-integer-or-infinity.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/to-length.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/to-object.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/to-primitive.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/to-property-key.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/to-string-tag-support.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/try-to-string.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/uid.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/use-symbol-as-uid.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/internals/well-known-symbol.js","webpack://i-ups/./node_modules/gatsby/node_modules/core-js/modules/es.promise.finally.js"],"sourcesContent":["var naiveFallback = function () {\n  if (typeof self === \"object\" && self) return self;\n  if (typeof window === \"object\" && window) return window;\n  throw new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = function () {\n  if (this) return this; // Unexpected strict mode (may happen if e.g. bundled into ESM module)\n  // Fallback to standard globalThis if available\n\n  if (typeof globalThis === \"object\" && globalThis) return globalThis; // Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n  // In all ES5+ engines global object inherits from Object.prototype\n  // (if you approached one that doesn't please report)\n\n  try {\n    Object.defineProperty(Object.prototype, \"__global__\", {\n      get: function () {\n        return this;\n      },\n      configurable: true\n    });\n  } catch (error) {\n    // Unfortunate case of updates to Object.prototype being restricted\n    // via preventExtensions, seal or freeze\n    return naiveFallback();\n  }\n\n  try {\n    // Safari case (window.__global__ works, but __global__ does not)\n    if (!__global__) return naiveFallback();\n    return __global__;\n  } finally {\n    delete Object.prototype.__global__;\n  }\n}();","var _globalThis;\n\nif (typeof globalThis === 'object') {\n  _globalThis = globalThis;\n} else {\n  try {\n    _globalThis = require('es5-ext/global');\n  } catch (error) {} finally {\n    if (!_globalThis && typeof window !== 'undefined') {\n      _globalThis = window;\n    }\n\n    if (!_globalThis) {\n      throw new Error('Could not determine global this');\n    }\n  }\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\n\nvar websocket_version = require('./version');\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\n\n\nfunction W3CWebSocket(uri, protocols) {\n  var native_instance;\n\n  if (protocols) {\n    native_instance = new NativeWebSocket(uri, protocols);\n  } else {\n    native_instance = new NativeWebSocket(uri);\n  }\n  /**\n   * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n   * class). Since it is an Object it will be returned as it is when creating an\n   * instance of W3CWebSocket via 'new W3CWebSocket()'.\n   *\n   * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n   */\n\n\n  return native_instance;\n}\n\nif (NativeWebSocket) {\n  ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function (prop) {\n    Object.defineProperty(W3CWebSocket, prop, {\n      get: function () {\n        return NativeWebSocket[prop];\n      }\n    });\n  });\n}\n/**\n * Module exports.\n */\n\n\nmodule.exports = {\n  'w3cwebsocket': NativeWebSocket ? W3CWebSocket : null,\n  'version': websocket_version\n};","module.exports = require('../package.json').version;","// extracted by mini-css-extract-plugin\nexport var center = \"loader-module--center--NVn8c\";\nexport var loader = \"loader-module--loader--04gMB\";\nexport var spin = \"loader-module--spin--WZry1\";","import React from 'react';\nimport * as styles from './loader.module.scss';\n\nfunction Loader(props) {\n\n  return (\n    <div className={ props.center ? [styles.loader, styles.center].join(' ') : styles.loader }></div>\n  )\n}\n\nexport default Loader;","export const version = '1.35.6';","// constants.ts\nimport { version } from './version';\nexport const DEFAULT_HEADERS = {\n  'X-Client-Info': \"supabase-js/\".concat(version)\n};\nexport const STORAGE_KEY = 'supabase.auth.token';","// helpers.ts\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\nexport function stripTrailingSlash(url) {\n  return url.replace(/\\/$/, '');\n}\nexport const isBrowser = () => typeof window !== 'undefined';","import { version } from './version';\nexport const GOTRUE_URL = 'http://localhost:9999';\nexport const AUDIENCE = '';\nexport const DEFAULT_HEADERS = {\n  'X-Client-Info': \"gotrue-js/\".concat(version)\n};\nexport const EXPIRY_MARGIN = 10; // in seconds\n\nexport const NETWORK_FAILURE = {\n  ERROR_MESSAGE: 'Request Failed',\n  MAX_RETRIES: 10,\n  RETRY_INTERVAL: 2 // in deciseconds\n\n};\nexport const STORAGE_KEY = 'supabase.auth.token';\nexport const COOKIE_OPTIONS = {\n  name: 'sb',\n  lifetime: 60 * 60 * 8,\n  domain: '',\n  path: '/',\n  sameSite: 'lax'\n};","// generated by genversion\nexport const version = '1.22.22';","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { NETWORK_FAILURE } from './constants';\n\nconst _getErrorMessage = err => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\n\nconst handleError = (error, reject) => {\n  if (!(error === null || error === void 0 ? void 0 : error.status)) {\n    return reject({\n      message: NETWORK_FAILURE.ERROR_MESSAGE\n    });\n  }\n\n  if (typeof error.json !== 'function') {\n    return reject(error);\n  }\n\n  error.json().then(err => {\n    return reject({\n      message: _getErrorMessage(err),\n      status: (error === null || error === void 0 ? void 0 : error.status) || 500\n    });\n  });\n};\n\nconst _getRequestParams = (method, options, body) => {\n  const params = {\n    method,\n    headers: (options === null || options === void 0 ? void 0 : options.headers) || {}\n  };\n\n  if (method === 'GET') {\n    return params;\n  }\n\n  params.headers = Object.assign({\n    'Content-Type': 'text/plain;charset=UTF-8'\n  }, options === null || options === void 0 ? void 0 : options.headers);\n  params.body = JSON.stringify(body);\n  return params;\n};\n\nfunction _handleRequest(fetcher, method, url, options, body) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return new Promise((resolve, reject) => {\n      fetcher(url, _getRequestParams(method, options, body)).then(result => {\n        if (!result.ok) throw result;\n        if (options === null || options === void 0 ? void 0 : options.noResolveJson) return resolve;\n        return result.json();\n      }).then(data => resolve(data)).catch(error => handleError(error, reject));\n    });\n  });\n}\n\nexport function get(fetcher, url, options) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return _handleRequest(fetcher, 'GET', url, options);\n  });\n}\nexport function post(fetcher, url, body, options) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return _handleRequest(fetcher, 'POST', url, options, body);\n  });\n}\nexport function put(fetcher, url, body, options) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return _handleRequest(fetcher, 'PUT', url, options, body);\n  });\n}\nexport function remove(fetcher, url, body, options) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return _handleRequest(fetcher, 'DELETE', url, options, body);\n  });\n}","/**\n * Serialize data into a cookie header.\n */\nfunction serialize(name, val, options) {\n  const opt = options || {};\n  const enc = encodeURIComponent;\n  /* eslint-disable-next-line no-control-regex */\n\n  const fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  const value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  let str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    const maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid');\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n\n      case 'none':\n        str += '; SameSite=None';\n        break;\n\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n/**\n * Based on the environment and the request we know if a secure cookie can be set.\n */\n\n\nfunction isSecureEnvironment(req) {\n  if (!req || !req.headers || !req.headers.host) {\n    throw new Error('The \"host\" request header is not available');\n  }\n\n  const host = req.headers.host.indexOf(':') > -1 && req.headers.host.split(':')[0] || req.headers.host;\n\n  if (['localhost', '127.0.0.1'].indexOf(host) > -1 || host.endsWith('.local')) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * Serialize a cookie to a string.\n */\n\n\nfunction serializeCookie(cookie, secure) {\n  var _a, _b, _c;\n\n  return serialize(cookie.name, cookie.value, {\n    maxAge: cookie.maxAge,\n    expires: new Date(Date.now() + cookie.maxAge * 1000),\n    httpOnly: true,\n    secure,\n    path: (_a = cookie.path) !== null && _a !== void 0 ? _a : '/',\n    domain: (_b = cookie.domain) !== null && _b !== void 0 ? _b : '',\n    sameSite: (_c = cookie.sameSite) !== null && _c !== void 0 ? _c : 'lax'\n  });\n}\n/**\n * Get Cookie Header strings.\n */\n\n\nexport function getCookieString(req, res, cookies) {\n  const strCookies = cookies.map(c => serializeCookie(c, isSecureEnvironment(req)));\n  const previousCookies = res.getHeader('Set-Cookie');\n\n  if (previousCookies) {\n    if (previousCookies instanceof Array) {\n      Array.prototype.push.apply(strCookies, previousCookies);\n    } else if (typeof previousCookies === 'string') {\n      strCookies.push(previousCookies);\n    }\n  }\n\n  return strCookies;\n}\n/**\n * Set one or more cookies.\n */\n\nexport function setCookies(req, res, cookies) {\n  res.setHeader('Set-Cookie', getCookieString(req, res, cookies));\n}\n/**\n * Set one or more cookies.\n */\n\nexport function setCookie(req, res, cookie) {\n  setCookies(req, res, [cookie]);\n}\nexport function deleteCookie(req, res, name) {\n  setCookie(req, res, {\n    name,\n    value: '',\n    maxAge: -1\n  });\n}","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nexport function expiresAt(expiresIn) {\n  const timeNow = Math.round(Date.now() / 1000);\n  return timeNow + expiresIn;\n}\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = Math.random() * 16 | 0,\n          v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\nexport const isBrowser = () => typeof window !== 'undefined';\nexport function getParameterByName(name, url) {\n  var _a;\n\n  if (!url) url = ((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.href) || ''; // eslint-disable-next-line no-useless-escape\n\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  const regex = new RegExp('[?&#]' + name + '(=([^&#]*)|&|#|$)'),\n        results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\nexport const resolveFetch = customFetch => {\n  let _fetch;\n\n  if (customFetch) {\n    _fetch = customFetch;\n  } else if (typeof fetch === 'undefined') {\n    _fetch = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return __awaiter(void 0, void 0, void 0, function* () {\n        return yield (yield import('cross-fetch')).fetch(...args);\n      });\n    };\n  } else {\n    _fetch = fetch;\n  }\n\n  return function () {\n    return _fetch(...arguments);\n  };\n}; // LocalStorage helpers\n\nexport const setItemAsync = (storage, key, data) => __awaiter(void 0, void 0, void 0, function* () {\n  isBrowser() && (yield storage === null || storage === void 0 ? void 0 : storage.setItem(key, JSON.stringify(data)));\n});\nexport const getItemAsync = (storage, key) => __awaiter(void 0, void 0, void 0, function* () {\n  const value = isBrowser() && (yield storage === null || storage === void 0 ? void 0 : storage.getItem(key));\n  if (!value) return null;\n\n  try {\n    return JSON.parse(value);\n  } catch (_a) {\n    return value;\n  }\n});\nexport const getItemSynchronously = (storage, key) => {\n  const value = isBrowser() && (storage === null || storage === void 0 ? void 0 : storage.getItem(key));\n\n  if (!value || typeof value !== 'string') {\n    return null;\n  }\n\n  try {\n    return JSON.parse(value);\n  } catch (_a) {\n    return value;\n  }\n};\nexport const removeItemAsync = (storage, key) => __awaiter(void 0, void 0, void 0, function* () {\n  isBrowser() && (yield storage === null || storage === void 0 ? void 0 : storage.removeItem(key));\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { get, post, put, remove } from './lib/fetch';\nimport { COOKIE_OPTIONS } from './lib/constants';\nimport { setCookies, getCookieString } from './lib/cookies';\nimport { expiresAt, resolveFetch } from './lib/helpers';\nexport default class GoTrueApi {\n  constructor(_ref) {\n    let {\n      url = '',\n      headers = {},\n      cookieOptions,\n      fetch\n    } = _ref;\n    this.url = url;\n    this.headers = headers;\n    this.cookieOptions = Object.assign(Object.assign({}, COOKIE_OPTIONS), cookieOptions);\n    this.fetch = resolveFetch(fetch);\n  }\n  /**\n   * Create a temporary object with all configured headers and\n   * adds the Authorization token to be used on request methods\n   * @param jwt A valid, logged-in JWT.\n   */\n\n\n  _createRequestHeaders(jwt) {\n    const headers = Object.assign({}, this.headers);\n    headers['Authorization'] = \"Bearer \".concat(jwt);\n    return headers;\n  }\n\n  cookieName() {\n    var _a;\n\n    return (_a = this.cookieOptions.name) !== null && _a !== void 0 ? _a : '';\n  }\n  /**\n   * Generates the relevant login URL for a third-party provider.\n   * @param provider One of the providers supported by GoTrue.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param scopes A space-separated list of scopes granted to the OAuth application.\n   */\n\n\n  getUrlForProvider(provider, options) {\n    const urlParams = [\"provider=\".concat(encodeURIComponent(provider))];\n\n    if (options === null || options === void 0 ? void 0 : options.redirectTo) {\n      urlParams.push(\"redirect_to=\".concat(encodeURIComponent(options.redirectTo)));\n    }\n\n    if (options === null || options === void 0 ? void 0 : options.scopes) {\n      urlParams.push(\"scopes=\".concat(encodeURIComponent(options.scopes)));\n    }\n\n    if (options === null || options === void 0 ? void 0 : options.queryParams) {\n      const query = new URLSearchParams(options.queryParams);\n      urlParams.push(\"\".concat(query));\n    }\n\n    return \"\".concat(this.url, \"/authorize?\").concat(urlParams.join('&'));\n  }\n  /**\n   * Creates a new user using their email address.\n   * @param email The email address of the user.\n   * @param password The password of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param data Optional user metadata.\n   * @param captchaToken Verification token received when the user completes the captcha on your site.\n   *\n   * @returns A logged-in session if the server has \"autoconfirm\" ON\n   * @returns A user if the server has \"autoconfirm\" OFF\n   */\n\n\n  signUpWithEmail(email, password) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const headers = Object.assign({}, this.headers);\n        let queryString = '';\n\n        if (options.redirectTo) {\n          queryString = '?redirect_to=' + encodeURIComponent(options.redirectTo);\n        }\n\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/signup\").concat(queryString), {\n          email,\n          password,\n          data: options.data,\n          gotrue_meta_security: {\n            captcha_token: options.captchaToken\n          }\n        }, {\n          headers\n        });\n        const session = Object.assign({}, data);\n        if (session.expires_in) session.expires_at = expiresAt(data.expires_in);\n        return {\n          data: session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Logs in an existing user using their email address.\n   * @param email The email address of the user.\n   * @param password The password of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param captchaToken Verification token received when the user completes the captcha on your site.\n   */\n\n\n  signInWithEmail(email, password) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const headers = Object.assign({}, this.headers);\n        let queryString = '?grant_type=password';\n\n        if (options.redirectTo) {\n          queryString += '&redirect_to=' + encodeURIComponent(options.redirectTo);\n        }\n\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/token\").concat(queryString), {\n          email,\n          password,\n          gotrue_meta_security: {\n            captcha_token: options.captchaToken\n          }\n        }, {\n          headers\n        });\n        const session = Object.assign({}, data);\n        if (session.expires_in) session.expires_at = expiresAt(data.expires_in);\n        return {\n          data: session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Signs up a new user using their phone number and a password.\n   * @param phone The phone number of the user.\n   * @param password The password of the user.\n   * @param data Optional user metadata.\n   * @param captchaToken Verification token received when the user completes the captcha on your site.\n   */\n\n\n  signUpWithPhone(phone, password) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const headers = Object.assign({}, this.headers);\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/signup\"), {\n          phone,\n          password,\n          data: options.data,\n          gotrue_meta_security: {\n            captcha_token: options.captchaToken\n          }\n        }, {\n          headers\n        });\n        const session = Object.assign({}, data);\n        if (session.expires_in) session.expires_at = expiresAt(data.expires_in);\n        return {\n          data: session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Logs in an existing user using their phone number and password.\n   * @param phone The phone number of the user.\n   * @param password The password of the user.\n   * @param captchaToken Verification token received when the user completes the captcha on your site.\n   */\n\n\n  signInWithPhone(phone, password) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const headers = Object.assign({}, this.headers);\n        const queryString = '?grant_type=password';\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/token\").concat(queryString), {\n          phone,\n          password,\n          gotrue_meta_security: {\n            captcha_token: options.captchaToken\n          }\n        }, {\n          headers\n        });\n        const session = Object.assign({}, data);\n        if (session.expires_in) session.expires_at = expiresAt(data.expires_in);\n        return {\n          data: session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Logs in an OpenID Connect user using their id_token.\n   * @param id_token The IDToken of the user.\n   * @param nonce The nonce of the user. The nonce is a random value generated by the developer (= yourself) before the initial grant is started. You should check the OpenID Connect specification for details. https://openid.net/developers/specs/\n   * @param provider The provider of the user.\n   * @param client_id The clientID of the user.\n   * @param issuer The issuer of the user.\n   */\n\n\n  signInWithOpenIDConnect(_ref2) {\n    let {\n      id_token,\n      nonce,\n      client_id,\n      issuer,\n      provider\n    } = _ref2;\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const headers = Object.assign({}, this.headers);\n        const queryString = '?grant_type=id_token';\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/token\").concat(queryString), {\n          id_token,\n          nonce,\n          client_id,\n          issuer,\n          provider\n        }, {\n          headers\n        });\n        const session = Object.assign({}, data);\n        if (session.expires_in) session.expires_at = expiresAt(data.expires_in);\n        return {\n          data: session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Sends a magic login link to an email address.\n   * @param email The email address of the user.\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param captchaToken Verification token received when the user completes the captcha on your site.\n   */\n\n\n  sendMagicLinkEmail(email) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const headers = Object.assign({}, this.headers);\n        let queryString = '';\n\n        if (options.redirectTo) {\n          queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n        }\n\n        const shouldCreateUser = (_a = options.shouldCreateUser) !== null && _a !== void 0 ? _a : true;\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/otp\").concat(queryString), {\n          email,\n          create_user: shouldCreateUser,\n          gotrue_meta_security: {\n            captcha_token: options.captchaToken\n          }\n        }, {\n          headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Sends a mobile OTP via SMS. Will register the account if it doesn't already exist\n   * @param phone The user's phone number WITH international prefix\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   * @param captchaToken Verification token received when the user completes the captcha on your site.\n   */\n\n\n  sendMobileOTP(phone) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const shouldCreateUser = (_a = options.shouldCreateUser) !== null && _a !== void 0 ? _a : true;\n        const headers = Object.assign({}, this.headers);\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/otp\"), {\n          phone,\n          create_user: shouldCreateUser,\n          gotrue_meta_security: {\n            captcha_token: options.captchaToken\n          }\n        }, {\n          headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Removes a logged-in session.\n   * @param jwt A valid, logged-in JWT.\n   */\n\n\n  signOut(jwt) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        yield post(this.fetch, \"\".concat(this.url, \"/logout\"), {}, {\n          headers: this._createRequestHeaders(jwt),\n          noResolveJson: true\n        });\n        return {\n          error: null\n        };\n      } catch (e) {\n        return {\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * @deprecated Use `verifyOTP` instead!\n   * @param phone The user's phone number WITH international prefix\n   * @param token token that user was sent to their mobile phone\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n\n\n  verifyMobileOTP(phone, token) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const headers = Object.assign({}, this.headers);\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/verify\"), {\n          phone,\n          token,\n          type: 'sms',\n          redirect_to: options.redirectTo\n        }, {\n          headers\n        });\n        const session = Object.assign({}, data);\n        if (session.expires_in) session.expires_at = expiresAt(data.expires_in);\n        return {\n          data: session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Send User supplied Email / Mobile OTP to be verified\n   * @param email The user's email address\n   * @param phone The user's phone number WITH international prefix\n   * @param token token that user was sent to their mobile phone\n   * @param type verification type that the otp is generated for\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n\n\n  verifyOTP(_ref3) {\n    let {\n      email,\n      phone,\n      token,\n      type = 'sms'\n    } = _ref3;\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const headers = Object.assign({}, this.headers);\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/verify\"), {\n          email,\n          phone,\n          token,\n          type,\n          redirect_to: options.redirectTo\n        }, {\n          headers\n        });\n        const session = Object.assign({}, data);\n        if (session.expires_in) session.expires_at = expiresAt(data.expires_in);\n        return {\n          data: session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Sends an invite link to an email address.\n   * @param email The email address of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param data Optional user metadata\n   */\n\n\n  inviteUserByEmail(email) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const headers = Object.assign({}, this.headers);\n        let queryString = '';\n\n        if (options.redirectTo) {\n          queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n        }\n\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/invite\").concat(queryString), {\n          email,\n          data: options.data\n        }, {\n          headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Sends a reset request to an email address.\n   * @param email The email address of the user.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   * @param captchaToken Verification token received when the user completes the captcha on your site.\n   */\n\n\n  resetPasswordForEmail(email) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const headers = Object.assign({}, this.headers);\n        let queryString = '';\n\n        if (options.redirectTo) {\n          queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n        }\n\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/recover\").concat(queryString), {\n          email,\n          gotrue_meta_security: {\n            captcha_token: options.captchaToken\n          }\n        }, {\n          headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Generates a new JWT.\n   * @param refreshToken A valid refresh token that was returned on login.\n   */\n\n\n  refreshAccessToken(refreshToken) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/token?grant_type=refresh_token\"), {\n          refresh_token: refreshToken\n        }, {\n          headers: this.headers\n        });\n        const session = Object.assign({}, data);\n        if (session.expires_in) session.expires_at = expiresAt(data.expires_in);\n        return {\n          data: session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Set/delete the auth cookie based on the AuthChangeEvent.\n   * Works for Next.js & Express (requires cookie-parser middleware).\n   * @param req The request object.\n   * @param res The response object.\n   */\n\n\n  setAuthCookie(req, res) {\n    if (req.method !== 'POST') {\n      res.setHeader('Allow', 'POST');\n      res.status(405).end('Method Not Allowed');\n    }\n\n    const {\n      event,\n      session\n    } = req.body;\n    if (!event) throw new Error('Auth event missing!');\n\n    if (event === 'SIGNED_IN') {\n      if (!session) throw new Error('Auth session missing!');\n      setCookies(req, res, [{\n        key: 'access-token',\n        value: session.access_token\n      }, {\n        key: 'refresh-token',\n        value: session.refresh_token\n      }].map(token => {\n        var _a;\n\n        return {\n          name: \"\".concat(this.cookieName(), \"-\").concat(token.key),\n          value: token.value,\n          domain: this.cookieOptions.domain,\n          maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n          path: this.cookieOptions.path,\n          sameSite: this.cookieOptions.sameSite\n        };\n      }));\n    }\n\n    if (event === 'SIGNED_OUT') {\n      setCookies(req, res, ['access-token', 'refresh-token'].map(key => ({\n        name: \"\".concat(this.cookieName(), \"-\").concat(key),\n        value: '',\n        maxAge: -1\n      })));\n    }\n\n    res.status(200).json({});\n  }\n  /**\n   * Deletes the Auth Cookies and redirects to the\n   * @param req The request object.\n   * @param res The response object.\n   * @param options Optionally specify a `redirectTo` URL in the options.\n   */\n\n\n  deleteAuthCookie(req, res, _ref4) {\n    let {\n      redirectTo = '/'\n    } = _ref4;\n    setCookies(req, res, ['access-token', 'refresh-token'].map(key => ({\n      name: \"\".concat(this.cookieName(), \"-\").concat(key),\n      value: '',\n      maxAge: -1\n    })));\n    return res.redirect(307, redirectTo);\n  }\n  /**\n   * Helper method to generate the Auth Cookie string for you in case you can't use `setAuthCookie`.\n   * @param req The request object.\n   * @param res The response object.\n   * @returns The Cookie string that needs to be set as the value for the `Set-Cookie` header.\n   */\n\n\n  getAuthCookieString(req, res) {\n    if (req.method !== 'POST') {\n      res.setHeader('Allow', 'POST');\n      res.status(405).end('Method Not Allowed');\n    }\n\n    const {\n      event,\n      session\n    } = req.body;\n    if (!event) throw new Error('Auth event missing!');\n\n    if (event === 'SIGNED_IN') {\n      if (!session) throw new Error('Auth session missing!');\n      return getCookieString(req, res, [{\n        key: 'access-token',\n        value: session.access_token\n      }, {\n        key: 'refresh-token',\n        value: session.refresh_token\n      }].map(token => {\n        var _a;\n\n        return {\n          name: \"\".concat(this.cookieName(), \"-\").concat(token.key),\n          value: token.value,\n          domain: this.cookieOptions.domain,\n          maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n          path: this.cookieOptions.path,\n          sameSite: this.cookieOptions.sameSite\n        };\n      }));\n    }\n\n    if (event === 'SIGNED_OUT') {\n      return getCookieString(req, res, ['access-token', 'refresh-token'].map(key => ({\n        name: \"\".concat(this.cookieName(), \"-\").concat(key),\n        value: '',\n        maxAge: -1\n      })));\n    }\n\n    return res.getHeader('Set-Cookie');\n  }\n  /**\n   * Generates links to be sent via email or other.\n   * @param type The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n   * @param email The user's email.\n   * @param password User password. For signup only.\n   * @param data Optional user metadata. For signup only.\n   * @param redirectTo The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n   */\n\n\n  generateLink(type, email) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/admin/generate_link\"), {\n          type,\n          email,\n          password: options.password,\n          data: options.data,\n          redirect_to: options.redirectTo\n        }, {\n          headers: this.headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  } // User Admin API\n\n  /**\n   * Creates a new user.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   *\n   * @param attributes The data you want to create the user with.\n   */\n\n\n  createUser(attributes) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/admin/users\"), attributes, {\n          headers: this.headers\n        });\n        return {\n          user: data,\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          user: null,\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Get a list of users.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n\n\n  listUsers() {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield get(this.fetch, \"\".concat(this.url, \"/admin/users\"), {\n          headers: this.headers\n        });\n        return {\n          data: data.users,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Get user by id.\n   *\n   * @param uid The user's unique identifier\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n\n\n  getUserById(uid) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield get(this.fetch, \"\".concat(this.url, \"/admin/users/\").concat(uid), {\n          headers: this.headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Get user by reading the cookie from the request.\n   * Works for Next.js & Express (requires cookie-parser middleware).\n   */\n\n\n  getUserByCookie(req, res) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        if (!req.cookies) {\n          throw new Error('Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!');\n        }\n\n        const access_token = req.cookies[\"\".concat(this.cookieName(), \"-access-token\")];\n        const refresh_token = req.cookies[\"\".concat(this.cookieName(), \"-refresh-token\")];\n\n        if (!access_token) {\n          throw new Error('No cookie found!');\n        }\n\n        const {\n          user,\n          error: getUserError\n        } = yield this.getUser(access_token);\n\n        if (getUserError) {\n          if (!refresh_token) throw new Error('No refresh_token cookie found!');\n          if (!res) throw new Error('You need to pass the res object to automatically refresh the session!');\n          const {\n            data,\n            error\n          } = yield this.refreshAccessToken(refresh_token);\n\n          if (error) {\n            throw error;\n          } else if (data) {\n            setCookies(req, res, [{\n              key: 'access-token',\n              value: data.access_token\n            }, {\n              key: 'refresh-token',\n              value: data.refresh_token\n            }].map(token => {\n              var _a;\n\n              return {\n                name: \"\".concat(this.cookieName(), \"-\").concat(token.key),\n                value: token.value,\n                domain: this.cookieOptions.domain,\n                maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n                path: this.cookieOptions.path,\n                sameSite: this.cookieOptions.sameSite\n              };\n            }));\n            return {\n              token: data.access_token,\n              user: data.user,\n              data: data.user,\n              error: null\n            };\n          }\n        }\n\n        return {\n          token: access_token,\n          user: user,\n          data: user,\n          error: null\n        };\n      } catch (e) {\n        return {\n          token: null,\n          user: null,\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Updates the user data.\n   *\n   * @param attributes The data you want to update.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   */\n\n\n  updateUserById(uid, attributes) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this; //\n\n        const data = yield put(this.fetch, \"\".concat(this.url, \"/admin/users/\").concat(uid), attributes, {\n          headers: this.headers\n        });\n        return {\n          user: data,\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          user: null,\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Delete a user. Requires a `service_role` key.\n   *\n   * This function should only be called on a server. Never expose your `service_role` key in the browser.\n   *\n   * @param uid The user uid you want to remove.\n   */\n\n\n  deleteUser(uid) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield remove(this.fetch, \"\".concat(this.url, \"/admin/users/\").concat(uid), {}, {\n          headers: this.headers\n        });\n        return {\n          user: data,\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          user: null,\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Gets the current user details.\n   *\n   * This method is called by the GoTrueClient `update` where\n   * the jwt is set to this.currentSession.access_token\n   * and therefore, acts like getting the currently authenticated user\n   *\n   * @param jwt A valid, logged-in JWT. Typically, the access_token for the currentSession\n   */\n\n\n  getUser(jwt) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield get(this.fetch, \"\".concat(this.url, \"/user\"), {\n          headers: this._createRequestHeaders(jwt)\n        });\n        return {\n          user: data,\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          user: null,\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Updates the user data.\n   * @param jwt A valid, logged-in JWT.\n   * @param attributes The data you want to update.\n   */\n\n\n  updateUser(jwt, attributes) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield put(this.fetch, \"\".concat(this.url, \"/user\"), attributes, {\n          headers: this._createRequestHeaders(jwt)\n        });\n        return {\n          user: data,\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          user: null,\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n\n}","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport GoTrueApi from './GoTrueApi';\nimport { isBrowser, getParameterByName, uuid, setItemAsync, removeItemAsync, getItemSynchronously, getItemAsync } from './lib/helpers';\nimport { GOTRUE_URL, DEFAULT_HEADERS, STORAGE_KEY, EXPIRY_MARGIN, NETWORK_FAILURE } from './lib/constants';\nimport { polyfillGlobalThis } from './lib/polyfills';\npolyfillGlobalThis(); // Make \"globalThis\" available\n\nconst DEFAULT_OPTIONS = {\n  url: GOTRUE_URL,\n  autoRefreshToken: true,\n  persistSession: true,\n  detectSessionInUrl: true,\n  multiTab: true,\n  headers: DEFAULT_HEADERS\n};\nexport default class GoTrueClient {\n  /**\n   * Create a new client for use in the browser.\n   * @param options.url The URL of the GoTrue server.\n   * @param options.headers Any additional headers to send to the GoTrue server.\n   * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n   * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n   * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n   * @param options.localStorage Provide your own local storage implementation to use instead of the browser's local storage.\n   * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n   * @param options.cookieOptions\n   * @param options.fetch A custom fetch implementation.\n   */\n  constructor(options) {\n    this.stateChangeEmitters = new Map();\n    this.networkRetries = 0;\n    const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n    this.currentUser = null;\n    this.currentSession = null;\n    this.autoRefreshToken = settings.autoRefreshToken;\n    this.persistSession = settings.persistSession;\n    this.multiTab = settings.multiTab;\n    this.localStorage = settings.localStorage || globalThis.localStorage;\n    this.api = new GoTrueApi({\n      url: settings.url,\n      headers: settings.headers,\n      cookieOptions: settings.cookieOptions,\n      fetch: settings.fetch\n    });\n\n    this._recoverSession();\n\n    this._recoverAndRefresh();\n\n    this._listenForMultiTabEvents();\n\n    this._handleVisibilityChange();\n\n    if (settings.detectSessionInUrl && isBrowser() && !!getParameterByName('access_token')) {\n      // Handle the OAuth redirect\n      this.getSessionFromUrl({\n        storeSession: true\n      }).then(_ref => {\n        let {\n          error\n        } = _ref;\n\n        if (error) {\n          throw new Error('Error getting session from URL.');\n        }\n      });\n    }\n  }\n  /**\n   * Creates a new user.\n   * @type UserCredentials\n   * @param email The user's email address.\n   * @param password The user's password.\n   * @param phone The user's phone number.\n   * @param redirectTo The redirect URL attached to the signup confirmation link. Does not redirect the user if it's a mobile signup.\n   * @param data Optional user metadata.\n   */\n\n\n  signUp(_ref2) {\n    let {\n      email,\n      password,\n      phone\n    } = _ref2;\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this._removeSession();\n\n        const {\n          data,\n          error\n        } = phone && password ? yield this.api.signUpWithPhone(phone, password, {\n          data: options.data,\n          captchaToken: options.captchaToken\n        }) : yield this.api.signUpWithEmail(email, password, {\n          redirectTo: options.redirectTo,\n          data: options.data,\n          captchaToken: options.captchaToken\n        });\n\n        if (error) {\n          throw error;\n        }\n\n        if (!data) {\n          throw 'An error occurred on sign up.';\n        }\n\n        let session = null;\n        let user = null;\n\n        if (data.access_token) {\n          session = data;\n          user = session.user;\n\n          this._saveSession(session);\n\n          this._notifyAllSubscribers('SIGNED_IN');\n        }\n\n        if (data.id) {\n          user = data;\n        }\n\n        return {\n          user,\n          session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          user: null,\n          session: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Log in an existing user, or login via a third-party provider.\n   * @type UserCredentials\n   * @param email The user's email address.\n   * @param phone The user's phone number.\n   * @param password The user's password.\n   * @param refreshToken A valid refresh token that was returned on login.\n   * @param provider One of the providers supported by GoTrue.\n   * @param redirectTo A URL to send the user to after they are confirmed (OAuth logins only).\n   * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n   * @param scopes A space-separated list of scopes granted to the OAuth application.\n   */\n\n\n  signIn(_ref3) {\n    let {\n      email,\n      phone,\n      password,\n      refreshToken,\n      provider,\n      oidc\n    } = _ref3;\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this._removeSession();\n\n        if (email && !password) {\n          const {\n            error\n          } = yield this.api.sendMagicLinkEmail(email, {\n            redirectTo: options.redirectTo,\n            shouldCreateUser: options.shouldCreateUser,\n            captchaToken: options.captchaToken\n          });\n          return {\n            user: null,\n            session: null,\n            error\n          };\n        }\n\n        if (email && password) {\n          return this._handleEmailSignIn(email, password, {\n            redirectTo: options.redirectTo,\n            captchaToken: options.captchaToken\n          });\n        }\n\n        if (phone && !password) {\n          const {\n            error\n          } = yield this.api.sendMobileOTP(phone, {\n            shouldCreateUser: options.shouldCreateUser,\n            captchaToken: options.captchaToken\n          });\n          return {\n            user: null,\n            session: null,\n            error\n          };\n        }\n\n        if (phone && password) {\n          return this._handlePhoneSignIn(phone, password);\n        }\n\n        if (refreshToken) {\n          // currentSession and currentUser will be updated to latest on _callRefreshToken using the passed refreshToken\n          const {\n            error\n          } = yield this._callRefreshToken(refreshToken);\n          if (error) throw error;\n          return {\n            user: this.currentUser,\n            session: this.currentSession,\n            error: null\n          };\n        }\n\n        if (provider) {\n          return this._handleProviderSignIn(provider, {\n            redirectTo: options.redirectTo,\n            scopes: options.scopes,\n            queryParams: options.queryParams\n          });\n        }\n\n        if (oidc) {\n          return this._handleOpenIDConnectSignIn(oidc);\n        }\n\n        throw new Error(\"You must provide either an email, phone number, a third-party provider or OpenID Connect.\");\n      } catch (e) {\n        return {\n          user: null,\n          session: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Log in a user given a User supplied OTP received via mobile.\n   * @param email The user's email address.\n   * @param phone The user's phone number.\n   * @param token The user's password.\n   * @param type The user's verification type.\n   * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n   */\n\n\n  verifyOTP(params) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this._removeSession();\n\n        const {\n          data,\n          error\n        } = yield this.api.verifyOTP(params, options);\n\n        if (error) {\n          throw error;\n        }\n\n        if (!data) {\n          throw 'An error occurred on token verification.';\n        }\n\n        let session = null;\n        let user = null;\n\n        if (data.access_token) {\n          session = data;\n          user = session.user;\n\n          this._saveSession(session);\n\n          this._notifyAllSubscribers('SIGNED_IN');\n        }\n\n        if (data.id) {\n          user = data;\n        }\n\n        return {\n          user,\n          session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          user: null,\n          session: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Inside a browser context, `user()` will return the user data, if there is a logged in user.\n   *\n   * For server-side management, you can get a user through `auth.api.getUserByCookie()`\n   */\n\n\n  user() {\n    return this.currentUser;\n  }\n  /**\n   * Returns the session data, if there is an active session.\n   */\n\n\n  session() {\n    return this.currentSession;\n  }\n  /**\n   * Force refreshes the session including the user data in case it was updated in a different session.\n   */\n\n\n  refreshSession() {\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        if (!((_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token)) throw new Error('Not logged in.'); // currentSession and currentUser will be updated to latest on _callRefreshToken\n\n        const {\n          error\n        } = yield this._callRefreshToken();\n        if (error) throw error;\n        return {\n          data: this.currentSession,\n          user: this.currentUser,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          user: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Updates user data, if there is a logged in user.\n   */\n\n\n  update(attributes) {\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        if (!((_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token)) throw new Error('Not logged in.');\n        const {\n          user,\n          error\n        } = yield this.api.updateUser(this.currentSession.access_token, attributes);\n        if (error) throw error;\n        if (!user) throw Error('Invalid user data.');\n        const session = Object.assign(Object.assign({}, this.currentSession), {\n          user\n        });\n\n        this._saveSession(session);\n\n        this._notifyAllSubscribers('USER_UPDATED');\n\n        return {\n          data: user,\n          user,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          user: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Sets the session data from refresh_token and returns current Session and Error\n   * @param refresh_token a JWT token\n   */\n\n\n  setSession(refresh_token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        if (!refresh_token) {\n          throw new Error('No current session.');\n        }\n\n        const {\n          data,\n          error\n        } = yield this.api.refreshAccessToken(refresh_token);\n\n        if (error) {\n          return {\n            session: null,\n            error: error\n          };\n        }\n\n        this._saveSession(data);\n\n        this._notifyAllSubscribers('SIGNED_IN');\n\n        return {\n          session: data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          error: e,\n          session: null\n        };\n      }\n    });\n  }\n  /**\n   * Overrides the JWT on the current client. The JWT will then be sent in all subsequent network requests.\n   * @param access_token a jwt access token\n   */\n\n\n  setAuth(access_token) {\n    this.currentSession = Object.assign(Object.assign({}, this.currentSession), {\n      access_token,\n      token_type: 'bearer',\n      user: this.user()\n    });\n\n    this._notifyAllSubscribers('TOKEN_REFRESHED');\n\n    return this.currentSession;\n  }\n  /**\n   * Gets the session data from a URL string\n   * @param options.storeSession Optionally store the session in the browser\n   */\n\n\n  getSessionFromUrl(options) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        if (!isBrowser()) throw new Error('No browser detected.');\n        const error_description = getParameterByName('error_description');\n        if (error_description) throw new Error(error_description);\n        const provider_token = getParameterByName('provider_token');\n        const access_token = getParameterByName('access_token');\n        if (!access_token) throw new Error('No access_token detected.');\n        const expires_in = getParameterByName('expires_in');\n        if (!expires_in) throw new Error('No expires_in detected.');\n        const refresh_token = getParameterByName('refresh_token');\n        if (!refresh_token) throw new Error('No refresh_token detected.');\n        const token_type = getParameterByName('token_type');\n        if (!token_type) throw new Error('No token_type detected.');\n        const timeNow = Math.round(Date.now() / 1000);\n        const expires_at = timeNow + parseInt(expires_in);\n        const {\n          user,\n          error\n        } = yield this.api.getUser(access_token);\n        if (error) throw error;\n        const session = {\n          provider_token,\n          access_token,\n          expires_in: parseInt(expires_in),\n          expires_at,\n          refresh_token,\n          token_type,\n          user: user\n        };\n\n        if (options === null || options === void 0 ? void 0 : options.storeSession) {\n          this._saveSession(session);\n\n          const recoveryMode = getParameterByName('type');\n\n          this._notifyAllSubscribers('SIGNED_IN');\n\n          if (recoveryMode === 'recovery') {\n            this._notifyAllSubscribers('PASSWORD_RECOVERY');\n          }\n        } // Remove tokens from URL\n\n\n        window.location.hash = '';\n        return {\n          data: session,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n  /**\n   * Inside a browser context, `signOut()` will remove the logged in user from the browser session\n   * and log them out - removing all items from localstorage and then trigger a \"SIGNED_OUT\" event.\n   *\n   * For server-side management, you can revoke all refresh tokens for a user by passing a user's JWT through to `auth.api.signOut(JWT: string)`. There is no way to revoke a user's session JWT before it automatically expires\n   */\n\n\n  signOut() {\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      const accessToken = (_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token;\n\n      this._removeSession();\n\n      this._notifyAllSubscribers('SIGNED_OUT');\n\n      if (accessToken) {\n        const {\n          error\n        } = yield this.api.signOut(accessToken);\n        if (error) return {\n          error\n        };\n      }\n\n      return {\n        error: null\n      };\n    });\n  }\n  /**\n   * Receive a notification every time an auth event happens.\n   * @returns {Subscription} A subscription object which can be used to unsubscribe itself.\n   */\n\n\n  onAuthStateChange(callback) {\n    try {\n      const id = uuid();\n      const subscription = {\n        id,\n        callback,\n        unsubscribe: () => {\n          this.stateChangeEmitters.delete(id);\n        }\n      };\n      this.stateChangeEmitters.set(id, subscription);\n      return {\n        data: subscription,\n        error: null\n      };\n    } catch (e) {\n      return {\n        data: null,\n        error: e\n      };\n    }\n  }\n\n  _handleEmailSignIn(email, password) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var _a, _b;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const {\n          data,\n          error\n        } = yield this.api.signInWithEmail(email, password, {\n          redirectTo: options.redirectTo,\n          captchaToken: options.captchaToken\n        });\n        if (error || !data) return {\n          data: null,\n          user: null,\n          session: null,\n          error\n        };\n\n        if (((_a = data === null || data === void 0 ? void 0 : data.user) === null || _a === void 0 ? void 0 : _a.confirmed_at) || ((_b = data === null || data === void 0 ? void 0 : data.user) === null || _b === void 0 ? void 0 : _b.email_confirmed_at)) {\n          this._saveSession(data);\n\n          this._notifyAllSubscribers('SIGNED_IN');\n        }\n\n        return {\n          data,\n          user: data.user,\n          session: data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          user: null,\n          session: null,\n          error: e\n        };\n      }\n    });\n  }\n\n  _handlePhoneSignIn(phone, password) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const {\n          data,\n          error\n        } = yield this.api.signInWithPhone(phone, password, options);\n        if (error || !data) return {\n          data: null,\n          user: null,\n          session: null,\n          error\n        };\n\n        if ((_a = data === null || data === void 0 ? void 0 : data.user) === null || _a === void 0 ? void 0 : _a.phone_confirmed_at) {\n          this._saveSession(data);\n\n          this._notifyAllSubscribers('SIGNED_IN');\n        }\n\n        return {\n          data,\n          user: data.user,\n          session: data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          user: null,\n          session: null,\n          error: e\n        };\n      }\n    });\n  }\n\n  _handleProviderSignIn(provider) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const url = this.api.getUrlForProvider(provider, {\n      redirectTo: options.redirectTo,\n      scopes: options.scopes,\n      queryParams: options.queryParams\n    });\n\n    try {\n      // try to open on the browser\n      if (isBrowser()) {\n        window.location.href = url;\n      }\n\n      return {\n        provider,\n        url,\n        data: null,\n        session: null,\n        user: null,\n        error: null\n      };\n    } catch (e) {\n      // fallback to returning the URL\n      if (url) return {\n        provider,\n        url,\n        data: null,\n        session: null,\n        user: null,\n        error: null\n      };\n      return {\n        data: null,\n        user: null,\n        session: null,\n        error: e\n      };\n    }\n  }\n\n  _handleOpenIDConnectSignIn(_ref4) {\n    let {\n      id_token,\n      nonce,\n      client_id,\n      issuer,\n      provider\n    } = _ref4;\n    return __awaiter(this, void 0, void 0, function* () {\n      if (id_token && nonce && (client_id && issuer || provider)) {\n        try {\n          const {\n            data,\n            error\n          } = yield this.api.signInWithOpenIDConnect({\n            id_token,\n            nonce,\n            client_id,\n            issuer,\n            provider\n          });\n          if (error || !data) return {\n            user: null,\n            session: null,\n            error\n          };\n\n          this._saveSession(data);\n\n          this._notifyAllSubscribers('SIGNED_IN');\n\n          return {\n            user: data.user,\n            session: data,\n            error: null\n          };\n        } catch (e) {\n          return {\n            user: null,\n            session: null,\n            error: e\n          };\n        }\n      }\n\n      throw new Error(\"You must provide a OpenID Connect provider with your id token and nonce.\");\n    });\n  }\n  /**\n   * Attempts to get the session from LocalStorage\n   * Note: this should never be async (even for React Native), as we need it to return immediately in the constructor.\n   */\n\n\n  _recoverSession() {\n    try {\n      const data = getItemSynchronously(this.localStorage, STORAGE_KEY);\n      if (!data) return null;\n      const {\n        currentSession,\n        expiresAt\n      } = data;\n      const timeNow = Math.round(Date.now() / 1000);\n\n      if (expiresAt >= timeNow + EXPIRY_MARGIN && (currentSession === null || currentSession === void 0 ? void 0 : currentSession.user)) {\n        this._saveSession(currentSession);\n\n        this._notifyAllSubscribers('SIGNED_IN');\n      }\n    } catch (error) {\n      console.log('error', error);\n    }\n  }\n  /**\n   * Recovers the session from LocalStorage and refreshes\n   * Note: this method is async to accommodate for AsyncStorage e.g. in React native.\n   */\n\n\n  _recoverAndRefresh() {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield getItemAsync(this.localStorage, STORAGE_KEY);\n        if (!data) return null;\n        const {\n          currentSession,\n          expiresAt\n        } = data;\n        const timeNow = Math.round(Date.now() / 1000);\n\n        if (expiresAt < timeNow + EXPIRY_MARGIN) {\n          if (this.autoRefreshToken && currentSession.refresh_token) {\n            this.networkRetries++;\n            const {\n              error\n            } = yield this._callRefreshToken(currentSession.refresh_token);\n\n            if (error) {\n              console.log(error.message);\n\n              if (error.message === NETWORK_FAILURE.ERROR_MESSAGE && this.networkRetries < NETWORK_FAILURE.MAX_RETRIES) {\n                if (this.refreshTokenTimer) clearTimeout(this.refreshTokenTimer);\n                this.refreshTokenTimer = setTimeout(() => this._recoverAndRefresh(), Math.pow(NETWORK_FAILURE.RETRY_INTERVAL, this.networkRetries) * 100 // exponential backoff\n                );\n                return;\n              }\n\n              yield this._removeSession();\n            }\n\n            this.networkRetries = 0;\n          } else {\n            this._removeSession();\n          }\n        } else if (!currentSession) {\n          console.log('Current session is missing data.');\n\n          this._removeSession();\n        } else {\n          // should be handled on _recoverSession method already\n          // But we still need the code here to accommodate for AsyncStorage e.g. in React native\n          this._saveSession(currentSession);\n\n          this._notifyAllSubscribers('SIGNED_IN');\n        }\n      } catch (err) {\n        console.error(err);\n        return null;\n      }\n    });\n  }\n\n  _callRefreshToken(refresh_token) {\n    var _a;\n\n    if (refresh_token === void 0) {\n      refresh_token = (_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.refresh_token;\n    }\n\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        if (!refresh_token) {\n          throw new Error('No current session.');\n        }\n\n        const {\n          data,\n          error\n        } = yield this.api.refreshAccessToken(refresh_token);\n        if (error) throw error;\n        if (!data) throw Error('Invalid session data.');\n\n        this._saveSession(data);\n\n        this._notifyAllSubscribers('TOKEN_REFRESHED');\n\n        this._notifyAllSubscribers('SIGNED_IN');\n\n        return {\n          data,\n          error: null\n        };\n      } catch (e) {\n        return {\n          data: null,\n          error: e\n        };\n      }\n    });\n  }\n\n  _notifyAllSubscribers(event) {\n    this.stateChangeEmitters.forEach(x => x.callback(event, this.currentSession));\n  }\n  /**\n   * set currentSession and currentUser\n   * process to _startAutoRefreshToken if possible\n   */\n\n\n  _saveSession(session) {\n    this.currentSession = session;\n    this.currentUser = session.user;\n    const expiresAt = session.expires_at;\n\n    if (expiresAt) {\n      const timeNow = Math.round(Date.now() / 1000);\n      const expiresIn = expiresAt - timeNow;\n      const refreshDurationBeforeExpires = expiresIn > EXPIRY_MARGIN ? EXPIRY_MARGIN : 0.5;\n\n      this._startAutoRefreshToken((expiresIn - refreshDurationBeforeExpires) * 1000);\n    } // Do we need any extra check before persist session\n    // access_token or user ?\n\n\n    if (this.persistSession && session.expires_at) {\n      this._persistSession(this.currentSession);\n    }\n  }\n\n  _persistSession(currentSession) {\n    const data = {\n      currentSession,\n      expiresAt: currentSession.expires_at\n    };\n    setItemAsync(this.localStorage, STORAGE_KEY, data);\n  }\n\n  _removeSession() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.currentSession = null;\n      this.currentUser = null;\n      if (this.refreshTokenTimer) clearTimeout(this.refreshTokenTimer);\n      removeItemAsync(this.localStorage, STORAGE_KEY);\n    });\n  }\n  /**\n   * Clear and re-create refresh token timer\n   * @param value time intervals in milliseconds\n   */\n\n\n  _startAutoRefreshToken(value) {\n    if (this.refreshTokenTimer) clearTimeout(this.refreshTokenTimer);\n    if (value <= 0 || !this.autoRefreshToken) return;\n    this.refreshTokenTimer = setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n      this.networkRetries++;\n      const {\n        error\n      } = yield this._callRefreshToken();\n      if (!error) this.networkRetries = 0;\n      if ((error === null || error === void 0 ? void 0 : error.message) === NETWORK_FAILURE.ERROR_MESSAGE && this.networkRetries < NETWORK_FAILURE.MAX_RETRIES) this._startAutoRefreshToken(Math.pow(NETWORK_FAILURE.RETRY_INTERVAL, this.networkRetries) * 100); // exponential backoff\n    }), value);\n    if (typeof this.refreshTokenTimer.unref === 'function') this.refreshTokenTimer.unref();\n  }\n  /**\n   * Listens for changes to LocalStorage and updates the current session.\n   */\n\n\n  _listenForMultiTabEvents() {\n    if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n      return false;\n    }\n\n    try {\n      window === null || window === void 0 ? void 0 : window.addEventListener('storage', e => {\n        var _a;\n\n        if (e.key === STORAGE_KEY) {\n          const newSession = JSON.parse(String(e.newValue));\n\n          if ((_a = newSession === null || newSession === void 0 ? void 0 : newSession.currentSession) === null || _a === void 0 ? void 0 : _a.access_token) {\n            this._saveSession(newSession.currentSession);\n\n            this._notifyAllSubscribers('SIGNED_IN');\n          } else {\n            this._removeSession();\n\n            this._notifyAllSubscribers('SIGNED_OUT');\n          }\n        }\n      });\n    } catch (error) {\n      console.error('_listenForMultiTabEvents', error);\n    }\n  }\n\n  _handleVisibilityChange() {\n    if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n      return false;\n    }\n\n    try {\n      window === null || window === void 0 ? void 0 : window.addEventListener('visibilitychange', () => {\n        if (document.visibilityState === 'visible') {\n          this._recoverAndRefresh();\n        }\n      });\n    } catch (error) {\n      console.error('_handleVisibilityChange', error);\n    }\n  }\n\n}","/**\n * https://mathiasbynens.be/notes/globalthis\n */\nexport function polyfillGlobalThis() {\n  if (typeof globalThis === 'object') return;\n\n  try {\n    Object.defineProperty(Object.prototype, '__magic__', {\n      get: function () {\n        return this;\n      },\n      configurable: true\n    }); // @ts-expect-error 'Allow access to magic'\n\n    __magic__.globalThis = __magic__; // @ts-expect-error 'Allow access to magic'\n\n    delete Object.prototype.__magic__;\n  } catch (e) {\n    if (typeof self !== 'undefined') {\n      // @ts-expect-error 'Allow access to globals'\n      self.globalThis = self;\n    }\n  }\n}","import { GoTrueClient } from '@supabase/gotrue-js';\nexport class SupabaseAuthClient extends GoTrueClient {\n  constructor(options) {\n    super(options);\n  }\n\n}","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nexport class PostgrestBuilder {\n  constructor(builder) {\n    var _this = this;\n\n    Object.assign(this, builder);\n\n    let _fetch;\n\n    if (builder.fetch) {\n      _fetch = builder.fetch;\n    } else if (typeof fetch === 'undefined') {\n      _fetch = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return __awaiter(_this, void 0, void 0, function* () {\n          return yield (yield import('cross-fetch')).fetch(...args);\n        });\n      };\n    } else {\n      _fetch = fetch;\n    }\n\n    this.fetch = function () {\n      return _fetch(...arguments);\n    };\n\n    this.shouldThrowOnError = builder.shouldThrowOnError || false;\n    this.allowEmpty = builder.allowEmpty || false;\n  }\n  /**\n   * If there's an error with the query, throwOnError will reject the promise by\n   * throwing the error instead of returning it as part of a successful response.\n   *\n   * {@link https://github.com/supabase/supabase-js/issues/92}\n   */\n\n\n  throwOnError(throwOnError) {\n    if (throwOnError === null || throwOnError === undefined) {\n      throwOnError = true;\n    }\n\n    this.shouldThrowOnError = throwOnError;\n    return this;\n  }\n\n  then(onfulfilled, onrejected) {\n    // https://postgrest.org/en/stable/api.html#switching-schemas\n    if (typeof this.schema === 'undefined') {// skip\n    } else if (['GET', 'HEAD'].includes(this.method)) {\n      this.headers['Accept-Profile'] = this.schema;\n    } else {\n      this.headers['Content-Profile'] = this.schema;\n    }\n\n    if (this.method !== 'GET' && this.method !== 'HEAD') {\n      this.headers['Content-Type'] = 'application/json';\n    }\n\n    let res = this.fetch(this.url.toString(), {\n      method: this.method,\n      headers: this.headers,\n      body: JSON.stringify(this.body),\n      signal: this.signal\n    }).then(res => __awaiter(this, void 0, void 0, function* () {\n      var _a, _b, _c, _d;\n\n      let error = null;\n      let data = null;\n      let count = null;\n      let status = res.status;\n      let statusText = res.statusText;\n\n      if (res.ok) {\n        const isReturnMinimal = (_a = this.headers['Prefer']) === null || _a === void 0 ? void 0 : _a.split(',').includes('return=minimal');\n\n        if (this.method !== 'HEAD' && !isReturnMinimal) {\n          const text = yield res.text();\n\n          if (!text) {// discard `text`\n          } else if (this.headers['Accept'] === 'text/csv') {\n            data = text;\n          } else {\n            data = JSON.parse(text);\n          }\n        }\n\n        const countHeader = (_b = this.headers['Prefer']) === null || _b === void 0 ? void 0 : _b.match(/count=(exact|planned|estimated)/);\n        const contentRange = (_c = res.headers.get('content-range')) === null || _c === void 0 ? void 0 : _c.split('/');\n\n        if (countHeader && contentRange && contentRange.length > 1) {\n          count = parseInt(contentRange[1]);\n        }\n      } else {\n        const body = yield res.text();\n\n        try {\n          error = JSON.parse(body);\n        } catch (_e) {\n          error = {\n            message: body\n          };\n        }\n\n        if (error && this.allowEmpty && ((_d = error === null || error === void 0 ? void 0 : error.details) === null || _d === void 0 ? void 0 : _d.includes('Results contain 0 rows'))) {\n          error = null;\n          status = 200;\n          statusText = 'OK';\n        }\n\n        if (error && this.shouldThrowOnError) {\n          throw error;\n        }\n      }\n\n      const postgrestResponse = {\n        error,\n        data,\n        count,\n        status,\n        statusText,\n        body: data\n      };\n      return postgrestResponse;\n    }));\n\n    if (!this.shouldThrowOnError) {\n      res = res.catch(fetchError => ({\n        error: {\n          message: \"FetchError: \".concat(fetchError.message),\n          details: '',\n          hint: '',\n          code: fetchError.code || ''\n        },\n        data: null,\n        body: null,\n        count: null,\n        status: 400,\n        statusText: 'Bad Request'\n      }));\n    }\n\n    return res.then(onfulfilled, onrejected);\n  }\n\n}","import { PostgrestBuilder } from './types';\n/**\n * Post-filters (transforms)\n */\n\nexport default class PostgrestTransformBuilder extends PostgrestBuilder {\n  /**\n   * Performs vertical filtering with SELECT.\n   *\n   * @param columns  The columns to retrieve, separated by commas.\n   */\n  select() {\n    let columns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '*';\n    // Remove whitespaces except when quoted\n    let quoted = false;\n    const cleanedColumns = columns.split('').map(c => {\n      if (/\\s/.test(c) && !quoted) {\n        return '';\n      }\n\n      if (c === '\"') {\n        quoted = !quoted;\n      }\n\n      return c;\n    }).join('');\n    this.url.searchParams.set('select', cleanedColumns);\n    return this;\n  }\n  /**\n   * Orders the result with the specified `column`.\n   *\n   * @param column  The column to order on.\n   * @param ascending  If `true`, the result will be in ascending order.\n   * @param nullsFirst  If `true`, `null`s appear first.\n   * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n   */\n\n\n  order(column) {\n    let {\n      ascending = true,\n      nullsFirst = false,\n      foreignTable\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const key = typeof foreignTable === 'undefined' ? 'order' : \"\".concat(foreignTable, \".order\");\n    const existingOrder = this.url.searchParams.get(key);\n    this.url.searchParams.set(key, \"\".concat(existingOrder ? \"\".concat(existingOrder, \",\") : '').concat(column, \".\").concat(ascending ? 'asc' : 'desc', \".\").concat(nullsFirst ? 'nullsfirst' : 'nullslast'));\n    return this;\n  }\n  /**\n   * Limits the result with the specified `count`.\n   *\n   * @param count  The maximum no. of rows to limit to.\n   * @param foreignTable  The foreign table to use (for foreign columns).\n   */\n\n\n  limit(count) {\n    let {\n      foreignTable\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const key = typeof foreignTable === 'undefined' ? 'limit' : \"\".concat(foreignTable, \".limit\");\n    this.url.searchParams.set(key, \"\".concat(count));\n    return this;\n  }\n  /**\n   * Limits the result to rows within the specified range, inclusive.\n   *\n   * @param from  The starting index from which to limit the result, inclusive.\n   * @param to  The last index to which to limit the result, inclusive.\n   * @param foreignTable  The foreign table to use (for foreign columns).\n   */\n\n\n  range(from, to) {\n    let {\n      foreignTable\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const keyOffset = typeof foreignTable === 'undefined' ? 'offset' : \"\".concat(foreignTable, \".offset\");\n    const keyLimit = typeof foreignTable === 'undefined' ? 'limit' : \"\".concat(foreignTable, \".limit\");\n    this.url.searchParams.set(keyOffset, \"\".concat(from)); // Range is inclusive, so add 1\n\n    this.url.searchParams.set(keyLimit, \"\".concat(to - from + 1));\n    return this;\n  }\n  /**\n   * Sets the AbortSignal for the fetch request.\n   */\n\n\n  abortSignal(signal) {\n    this.signal = signal;\n    return this;\n  }\n  /**\n   * Retrieves only one row from the result. Result must be one row (e.g. using\n   * `limit`), otherwise this will result in an error.\n   */\n\n\n  single() {\n    this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n    return this;\n  }\n  /**\n   * Retrieves at most one row from the result. Result must be at most one row\n   * (e.g. using `eq` on a UNIQUE column), otherwise this will result in an\n   * error.\n   */\n\n\n  maybeSingle() {\n    this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n    this.allowEmpty = true;\n    return this;\n  }\n  /**\n   * Set the response type to CSV.\n   */\n\n\n  csv() {\n    this.headers['Accept'] = 'text/csv';\n    return this;\n  }\n\n}","import PostgrestTransformBuilder from './PostgrestTransformBuilder';\nexport default class PostgrestFilterBuilder extends PostgrestTransformBuilder {\n  constructor() {\n    super(...arguments);\n    /** @deprecated Use `contains()` instead. */\n\n    this.cs = this.contains;\n    /** @deprecated Use `containedBy()` instead. */\n\n    this.cd = this.containedBy;\n    /** @deprecated Use `rangeLt()` instead. */\n\n    this.sl = this.rangeLt;\n    /** @deprecated Use `rangeGt()` instead. */\n\n    this.sr = this.rangeGt;\n    /** @deprecated Use `rangeGte()` instead. */\n\n    this.nxl = this.rangeGte;\n    /** @deprecated Use `rangeLte()` instead. */\n\n    this.nxr = this.rangeLte;\n    /** @deprecated Use `rangeAdjacent()` instead. */\n\n    this.adj = this.rangeAdjacent;\n    /** @deprecated Use `overlaps()` instead. */\n\n    this.ov = this.overlaps;\n  }\n  /**\n   * Finds all rows which doesn't satisfy the filter.\n   *\n   * @param column  The column to filter on.\n   * @param operator  The operator to filter with.\n   * @param value  The value to filter with.\n   */\n\n\n  not(column, operator, value) {\n    this.url.searchParams.append(\"\".concat(column), \"not.\".concat(operator, \".\").concat(value));\n    return this;\n  }\n  /**\n   * Finds all rows satisfying at least one of the filters.\n   *\n   * @param filters  The filters to use, separated by commas.\n   * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n   */\n\n\n  or(filters) {\n    let {\n      foreignTable\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const key = typeof foreignTable === 'undefined' ? 'or' : \"\".concat(foreignTable, \".or\");\n    this.url.searchParams.append(key, \"(\".concat(filters, \")\"));\n    return this;\n  }\n  /**\n   * Finds all rows whose value on the stated `column` exactly matches the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n\n\n  eq(column, value) {\n    this.url.searchParams.append(\"\".concat(column), \"eq.\".concat(value));\n    return this;\n  }\n  /**\n   * Finds all rows whose value on the stated `column` doesn't match the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n\n\n  neq(column, value) {\n    this.url.searchParams.append(\"\".concat(column), \"neq.\".concat(value));\n    return this;\n  }\n  /**\n   * Finds all rows whose value on the stated `column` is greater than the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n\n\n  gt(column, value) {\n    this.url.searchParams.append(\"\".concat(column), \"gt.\".concat(value));\n    return this;\n  }\n  /**\n   * Finds all rows whose value on the stated `column` is greater than or\n   * equal to the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n\n\n  gte(column, value) {\n    this.url.searchParams.append(\"\".concat(column), \"gte.\".concat(value));\n    return this;\n  }\n  /**\n   * Finds all rows whose value on the stated `column` is less than the\n   * specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n\n\n  lt(column, value) {\n    this.url.searchParams.append(\"\".concat(column), \"lt.\".concat(value));\n    return this;\n  }\n  /**\n   * Finds all rows whose value on the stated `column` is less than or equal\n   * to the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n\n\n  lte(column, value) {\n    this.url.searchParams.append(\"\".concat(column), \"lte.\".concat(value));\n    return this;\n  }\n  /**\n   * Finds all rows whose value in the stated `column` matches the supplied\n   * `pattern` (case sensitive).\n   *\n   * @param column  The column to filter on.\n   * @param pattern  The pattern to filter with.\n   */\n\n\n  like(column, pattern) {\n    this.url.searchParams.append(\"\".concat(column), \"like.\".concat(pattern));\n    return this;\n  }\n  /**\n   * Finds all rows whose value in the stated `column` matches the supplied\n   * `pattern` (case insensitive).\n   *\n   * @param column  The column to filter on.\n   * @param pattern  The pattern to filter with.\n   */\n\n\n  ilike(column, pattern) {\n    this.url.searchParams.append(\"\".concat(column), \"ilike.\".concat(pattern));\n    return this;\n  }\n  /**\n   * A check for exact equality (null, true, false), finds all rows whose\n   * value on the stated `column` exactly match the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n\n\n  is(column, value) {\n    this.url.searchParams.append(\"\".concat(column), \"is.\".concat(value));\n    return this;\n  }\n  /**\n   * Finds all rows whose value on the stated `column` is found on the\n   * specified `values`.\n   *\n   * @param column  The column to filter on.\n   * @param values  The values to filter with.\n   */\n\n\n  in(column, values) {\n    const cleanedValues = values.map(s => {\n      // handle postgrest reserved characters\n      // https://postgrest.org/en/v7.0.0/api.html#reserved-characters\n      if (typeof s === 'string' && new RegExp('[,()]').test(s)) return \"\\\"\".concat(s, \"\\\"\");else return \"\".concat(s);\n    }).join(',');\n    this.url.searchParams.append(\"\".concat(column), \"in.(\".concat(cleanedValues, \")\"));\n    return this;\n  }\n  /**\n   * Finds all rows whose json, array, or range value on the stated `column`\n   * contains the values specified in `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n\n\n  contains(column, value) {\n    if (typeof value === 'string') {\n      // range types can be inclusive '[', ']' or exclusive '(', ')' so just\n      // keep it simple and accept a string\n      this.url.searchParams.append(\"\".concat(column), \"cs.\".concat(value));\n    } else if (Array.isArray(value)) {\n      // array\n      this.url.searchParams.append(\"\".concat(column), \"cs.{\".concat(value.join(','), \"}\"));\n    } else {\n      // json\n      this.url.searchParams.append(\"\".concat(column), \"cs.\".concat(JSON.stringify(value)));\n    }\n\n    return this;\n  }\n  /**\n   * Finds all rows whose json, array, or range value on the stated `column` is\n   * contained by the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n\n\n  containedBy(column, value) {\n    if (typeof value === 'string') {\n      // range\n      this.url.searchParams.append(\"\".concat(column), \"cd.\".concat(value));\n    } else if (Array.isArray(value)) {\n      // array\n      this.url.searchParams.append(\"\".concat(column), \"cd.{\".concat(value.join(','), \"}\"));\n    } else {\n      // json\n      this.url.searchParams.append(\"\".concat(column), \"cd.\".concat(JSON.stringify(value)));\n    }\n\n    return this;\n  }\n  /**\n   * Finds all rows whose range value on the stated `column` is strictly to the\n   * left of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n\n\n  rangeLt(column, range) {\n    this.url.searchParams.append(\"\".concat(column), \"sl.\".concat(range));\n    return this;\n  }\n  /**\n   * Finds all rows whose range value on the stated `column` is strictly to\n   * the right of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n\n\n  rangeGt(column, range) {\n    this.url.searchParams.append(\"\".concat(column), \"sr.\".concat(range));\n    return this;\n  }\n  /**\n   * Finds all rows whose range value on the stated `column` does not extend\n   * to the left of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n\n\n  rangeGte(column, range) {\n    this.url.searchParams.append(\"\".concat(column), \"nxl.\".concat(range));\n    return this;\n  }\n  /**\n   * Finds all rows whose range value on the stated `column` does not extend\n   * to the right of the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n\n\n  rangeLte(column, range) {\n    this.url.searchParams.append(\"\".concat(column), \"nxr.\".concat(range));\n    return this;\n  }\n  /**\n   * Finds all rows whose range value on the stated `column` is adjacent to\n   * the specified `range`.\n   *\n   * @param column  The column to filter on.\n   * @param range  The range to filter with.\n   */\n\n\n  rangeAdjacent(column, range) {\n    this.url.searchParams.append(\"\".concat(column), \"adj.\".concat(range));\n    return this;\n  }\n  /**\n   * Finds all rows whose array or range value on the stated `column` overlaps\n   * (has a value in common) with the specified `value`.\n   *\n   * @param column  The column to filter on.\n   * @param value  The value to filter with.\n   */\n\n\n  overlaps(column, value) {\n    if (typeof value === 'string') {\n      // range\n      this.url.searchParams.append(\"\".concat(column), \"ov.\".concat(value));\n    } else {\n      // array\n      this.url.searchParams.append(\"\".concat(column), \"ov.{\".concat(value.join(','), \"}\"));\n    }\n\n    return this;\n  }\n  /**\n   * Finds all rows whose text or tsvector value on the stated `column` matches\n   * the tsquery in `query`.\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   * @param type  The type of tsquery conversion to use on `query`.\n   */\n\n\n  textSearch(column, query) {\n    let {\n      config,\n      type = null\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let typePart = '';\n\n    if (type === 'plain') {\n      typePart = 'pl';\n    } else if (type === 'phrase') {\n      typePart = 'ph';\n    } else if (type === 'websearch') {\n      typePart = 'w';\n    }\n\n    const configPart = config === undefined ? '' : \"(\".concat(config, \")\");\n    this.url.searchParams.append(\"\".concat(column), \"\".concat(typePart, \"fts\").concat(configPart, \".\").concat(query));\n    return this;\n  }\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * to_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` instead.\n   */\n\n\n  fts(column, query) {\n    let {\n      config\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const configPart = typeof config === 'undefined' ? '' : \"(\".concat(config, \")\");\n    this.url.searchParams.append(\"\".concat(column), \"fts\".concat(configPart, \".\").concat(query));\n    return this;\n  }\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * plainto_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'plain'` instead.\n   */\n\n\n  plfts(column, query) {\n    let {\n      config\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const configPart = typeof config === 'undefined' ? '' : \"(\".concat(config, \")\");\n    this.url.searchParams.append(\"\".concat(column), \"plfts\".concat(configPart, \".\").concat(query));\n    return this;\n  }\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * phraseto_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'phrase'` instead.\n   */\n\n\n  phfts(column, query) {\n    let {\n      config\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const configPart = typeof config === 'undefined' ? '' : \"(\".concat(config, \")\");\n    this.url.searchParams.append(\"\".concat(column), \"phfts\".concat(configPart, \".\").concat(query));\n    return this;\n  }\n  /**\n   * Finds all rows whose tsvector value on the stated `column` matches\n   * websearch_to_tsquery(`query`).\n   *\n   * @param column  The column to filter on.\n   * @param query  The Postgres tsquery string to filter with.\n   * @param config  The text search configuration to use.\n   *\n   * @deprecated Use `textSearch()` with `type: 'websearch'` instead.\n   */\n\n\n  wfts(column, query) {\n    let {\n      config\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const configPart = typeof config === 'undefined' ? '' : \"(\".concat(config, \")\");\n    this.url.searchParams.append(\"\".concat(column), \"wfts\".concat(configPart, \".\").concat(query));\n    return this;\n  }\n  /**\n   * Finds all rows whose `column` satisfies the filter.\n   *\n   * @param column  The column to filter on.\n   * @param operator  The operator to filter with.\n   * @param value  The value to filter with.\n   */\n\n\n  filter(column, operator, value) {\n    this.url.searchParams.append(\"\".concat(column), \"\".concat(operator, \".\").concat(value));\n    return this;\n  }\n  /**\n   * Finds all rows whose columns match the specified `query` object.\n   *\n   * @param query  The object to filter with, with column names as keys mapped\n   *               to their filter values.\n   */\n\n\n  match(query) {\n    Object.keys(query).forEach(key => {\n      this.url.searchParams.append(\"\".concat(key), \"eq.\".concat(query[key]));\n    });\n    return this;\n  }\n\n}","import { PostgrestBuilder } from './types';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestQueryBuilder extends PostgrestBuilder {\n  constructor(url) {\n    let {\n      headers = {},\n      schema,\n      fetch,\n      shouldThrowOnError\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super({\n      fetch,\n      shouldThrowOnError\n    });\n    this.url = new URL(url);\n    this.headers = Object.assign({}, headers);\n    this.schema = schema;\n  }\n  /**\n   * Performs vertical filtering with SELECT.\n   *\n   * @param columns  The columns to retrieve, separated by commas.\n   * @param head  When set to true, select will void data.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n\n\n  select() {\n    let columns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '*';\n    let {\n      head = false,\n      count = null\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.method = 'GET'; // Remove whitespaces except when quoted\n\n    let quoted = false;\n    const cleanedColumns = columns.split('').map(c => {\n      if (/\\s/.test(c) && !quoted) {\n        return '';\n      }\n\n      if (c === '\"') {\n        quoted = !quoted;\n      }\n\n      return c;\n    }).join('');\n    this.url.searchParams.set('select', cleanedColumns);\n\n    if (count) {\n      this.headers['Prefer'] = \"count=\".concat(count);\n    }\n\n    if (head) {\n      this.method = 'HEAD';\n    }\n\n    return new PostgrestFilterBuilder(this);\n  }\n\n  insert(values) {\n    let {\n      upsert = false,\n      onConflict,\n      returning = 'representation',\n      count = null\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.method = 'POST';\n    const prefersHeaders = [\"return=\".concat(returning)];\n    if (upsert) prefersHeaders.push('resolution=merge-duplicates');\n    if (upsert && onConflict !== undefined) this.url.searchParams.set('on_conflict', onConflict);\n    this.body = values;\n\n    if (count) {\n      prefersHeaders.push(\"count=\".concat(count));\n    }\n\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer']);\n    }\n\n    this.headers['Prefer'] = prefersHeaders.join(',');\n\n    if (Array.isArray(values)) {\n      const columns = values.reduce((acc, x) => acc.concat(Object.keys(x)), []);\n\n      if (columns.length > 0) {\n        const uniqueColumns = [...new Set(columns)].map(column => \"\\\"\".concat(column, \"\\\"\"));\n        this.url.searchParams.set('columns', uniqueColumns.join(','));\n      }\n    }\n\n    return new PostgrestFilterBuilder(this);\n  }\n  /**\n   * Performs an UPSERT into the table.\n   *\n   * @param values  The values to insert.\n   * @param onConflict  By specifying the `on_conflict` query parameter, you can make UPSERT work on a column(s) that has a UNIQUE constraint.\n   * @param returning  By default the new record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   * @param ignoreDuplicates  Specifies if duplicate rows should be ignored and not inserted.\n   */\n\n\n  upsert(values) {\n    let {\n      onConflict,\n      returning = 'representation',\n      count = null,\n      ignoreDuplicates = false\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.method = 'POST';\n    const prefersHeaders = [\"resolution=\".concat(ignoreDuplicates ? 'ignore' : 'merge', \"-duplicates\"), \"return=\".concat(returning)];\n    if (onConflict !== undefined) this.url.searchParams.set('on_conflict', onConflict);\n    this.body = values;\n\n    if (count) {\n      prefersHeaders.push(\"count=\".concat(count));\n    }\n\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer']);\n    }\n\n    this.headers['Prefer'] = prefersHeaders.join(',');\n    return new PostgrestFilterBuilder(this);\n  }\n  /**\n   * Performs an UPDATE on the table.\n   *\n   * @param values  The values to update.\n   * @param returning  By default the updated record is returned. Set this to 'minimal' if you don't need this value.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n\n\n  update(values) {\n    let {\n      returning = 'representation',\n      count = null\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.method = 'PATCH';\n    const prefersHeaders = [\"return=\".concat(returning)];\n    this.body = values;\n\n    if (count) {\n      prefersHeaders.push(\"count=\".concat(count));\n    }\n\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer']);\n    }\n\n    this.headers['Prefer'] = prefersHeaders.join(',');\n    return new PostgrestFilterBuilder(this);\n  }\n  /**\n   * Performs a DELETE on the table.\n   *\n   * @param returning  If `true`, return the deleted row(s) in the response.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n\n\n  delete() {\n    let {\n      returning = 'representation',\n      count = null\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.method = 'DELETE';\n    const prefersHeaders = [\"return=\".concat(returning)];\n\n    if (count) {\n      prefersHeaders.push(\"count=\".concat(count));\n    }\n\n    if (this.headers['Prefer']) {\n      prefersHeaders.unshift(this.headers['Prefer']);\n    }\n\n    this.headers['Prefer'] = prefersHeaders.join(',');\n    return new PostgrestFilterBuilder(this);\n  }\n\n}","import { PostgrestBuilder } from './types';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestRpcBuilder extends PostgrestBuilder {\n  constructor(url) {\n    let {\n      headers = {},\n      schema,\n      fetch,\n      shouldThrowOnError\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super({\n      fetch,\n      shouldThrowOnError\n    });\n    this.url = new URL(url);\n    this.headers = Object.assign({}, headers);\n    this.schema = schema;\n  }\n  /**\n   * Perform a function call.\n   */\n\n\n  rpc(params) {\n    let {\n      head = false,\n      count = null\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (head) {\n      this.method = 'HEAD';\n\n      if (params) {\n        Object.entries(params).forEach(_ref => {\n          let [name, value] = _ref;\n          this.url.searchParams.append(name, value);\n        });\n      }\n    } else {\n      this.method = 'POST';\n      this.body = params;\n    }\n\n    if (count) {\n      if (this.headers['Prefer'] !== undefined) this.headers['Prefer'] += \",count=\".concat(count);else this.headers['Prefer'] = \"count=\".concat(count);\n    }\n\n    return new PostgrestFilterBuilder(this);\n  }\n\n}","// generated by genversion\nexport const version = '0.37.4';","import { version } from './version';\nexport const DEFAULT_HEADERS = {\n  'X-Client-Info': \"postgrest-js/\".concat(version)\n};","import PostgrestQueryBuilder from './lib/PostgrestQueryBuilder';\nimport PostgrestRpcBuilder from './lib/PostgrestRpcBuilder';\nimport { DEFAULT_HEADERS } from './lib/constants';\nexport default class PostgrestClient {\n  /**\n   * Creates a PostgREST client.\n   *\n   * @param url  URL of the PostgREST endpoint.\n   * @param headers  Custom headers.\n   * @param schema  Postgres schema to switch to.\n   */\n  constructor(url) {\n    let {\n      headers = {},\n      schema,\n      fetch,\n      throwOnError\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.url = url;\n    this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n    this.schema = schema;\n    this.fetch = fetch;\n    this.shouldThrowOnError = throwOnError;\n  }\n  /**\n   * Authenticates the request with JWT.\n   *\n   * @param token  The JWT token to use.\n   */\n\n\n  auth(token) {\n    this.headers['Authorization'] = \"Bearer \".concat(token);\n    return this;\n  }\n  /**\n   * Perform a table operation.\n   *\n   * @param table  The table name to operate on.\n   */\n\n\n  from(table) {\n    const url = \"\".concat(this.url, \"/\").concat(table);\n    return new PostgrestQueryBuilder(url, {\n      headers: this.headers,\n      schema: this.schema,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError\n    });\n  }\n  /**\n   * Perform a function call.\n   *\n   * @param fn  The function name to call.\n   * @param params  The parameters to pass to the function call.\n   * @param head  When set to true, no data will be returned.\n   * @param count  Count algorithm to use to count rows in a table.\n   */\n\n\n  rpc(fn, params) {\n    let {\n      head = false,\n      count = null\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const url = \"\".concat(this.url, \"/rpc/\").concat(fn);\n    return new PostgrestRpcBuilder(url, {\n      headers: this.headers,\n      schema: this.schema,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError\n    }).rpc(params, {\n      head,\n      count\n    });\n  }\n\n}","/**\n * Helpers to convert the change Payload into native JS types.\n */\n// Adapted from epgsql (src/epgsql_binary.erl), this module licensed under\n// 3-clause BSD found here: https://raw.githubusercontent.com/epgsql/epgsql/devel/LICENSE\nexport var PostgresTypes;\n\n(function (PostgresTypes) {\n  PostgresTypes[\"abstime\"] = \"abstime\";\n  PostgresTypes[\"bool\"] = \"bool\";\n  PostgresTypes[\"date\"] = \"date\";\n  PostgresTypes[\"daterange\"] = \"daterange\";\n  PostgresTypes[\"float4\"] = \"float4\";\n  PostgresTypes[\"float8\"] = \"float8\";\n  PostgresTypes[\"int2\"] = \"int2\";\n  PostgresTypes[\"int4\"] = \"int4\";\n  PostgresTypes[\"int4range\"] = \"int4range\";\n  PostgresTypes[\"int8\"] = \"int8\";\n  PostgresTypes[\"int8range\"] = \"int8range\";\n  PostgresTypes[\"json\"] = \"json\";\n  PostgresTypes[\"jsonb\"] = \"jsonb\";\n  PostgresTypes[\"money\"] = \"money\";\n  PostgresTypes[\"numeric\"] = \"numeric\";\n  PostgresTypes[\"oid\"] = \"oid\";\n  PostgresTypes[\"reltime\"] = \"reltime\";\n  PostgresTypes[\"text\"] = \"text\";\n  PostgresTypes[\"time\"] = \"time\";\n  PostgresTypes[\"timestamp\"] = \"timestamp\";\n  PostgresTypes[\"timestamptz\"] = \"timestamptz\";\n  PostgresTypes[\"timetz\"] = \"timetz\";\n  PostgresTypes[\"tsrange\"] = \"tsrange\";\n  PostgresTypes[\"tstzrange\"] = \"tstzrange\";\n})(PostgresTypes || (PostgresTypes = {}));\n/**\n * Takes an array of columns and an object of string values then converts each string value\n * to its mapped type.\n *\n * @param {{name: String, type: String}[]} columns\n * @param {Object} record\n * @param {Object} options The map of various options that can be applied to the mapper\n * @param {Array} options.skipTypes The array of types that should not be converted\n *\n * @example convertChangeData([{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age:'33'}, {})\n * //=>{ first_name: 'Paul', age: 33 }\n */\n\n\nexport const convertChangeData = function (columns, record) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var _a;\n\n  const skipTypes = (_a = options.skipTypes) !== null && _a !== void 0 ? _a : [];\n  return Object.keys(record).reduce((acc, rec_key) => {\n    acc[rec_key] = convertColumn(rec_key, columns, record, skipTypes);\n    return acc;\n  }, {});\n};\n/**\n * Converts the value of an individual column.\n *\n * @param {String} columnName The column that you want to convert\n * @param {{name: String, type: String}[]} columns All of the columns\n * @param {Object} record The map of string values\n * @param {Array} skipTypes An array of types that should not be converted\n * @return {object} Useless information\n *\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, [])\n * //=> 33\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, ['int4'])\n * //=> \"33\"\n */\n\nexport const convertColumn = (columnName, columns, record, skipTypes) => {\n  const column = columns.find(x => x.name === columnName);\n  const colType = column === null || column === void 0 ? void 0 : column.type;\n  const value = record[columnName];\n\n  if (colType && !skipTypes.includes(colType)) {\n    return convertCell(colType, value);\n  }\n\n  return noop(value);\n};\n/**\n * If the value of the cell is `null`, returns null.\n * Otherwise converts the string value to the correct type.\n * @param {String} type A postgres column type\n * @param {String} stringValue The cell value\n *\n * @example convertCell('bool', 't')\n * //=> true\n * @example convertCell('int8', '10')\n * //=> 10\n * @example convertCell('_int4', '{1,2,3,4}')\n * //=> [1,2,3,4]\n */\n\nexport const convertCell = (type, value) => {\n  // if data type is an array\n  if (type.charAt(0) === '_') {\n    const dataType = type.slice(1, type.length);\n    return toArray(value, dataType);\n  } // If not null, convert to correct type.\n\n\n  switch (type) {\n    case PostgresTypes.bool:\n      return toBoolean(value);\n\n    case PostgresTypes.float4:\n    case PostgresTypes.float8:\n    case PostgresTypes.int2:\n    case PostgresTypes.int4:\n    case PostgresTypes.int8:\n    case PostgresTypes.numeric:\n    case PostgresTypes.oid:\n      return toNumber(value);\n\n    case PostgresTypes.json:\n    case PostgresTypes.jsonb:\n      return toJson(value);\n\n    case PostgresTypes.timestamp:\n      return toTimestampString(value);\n    // Format to be consistent with PostgREST\n\n    case PostgresTypes.abstime: // To allow users to cast it based on Timezone\n\n    case PostgresTypes.date: // To allow users to cast it based on Timezone\n\n    case PostgresTypes.daterange:\n    case PostgresTypes.int4range:\n    case PostgresTypes.int8range:\n    case PostgresTypes.money:\n    case PostgresTypes.reltime: // To allow users to cast it based on Timezone\n\n    case PostgresTypes.text:\n    case PostgresTypes.time: // To allow users to cast it based on Timezone\n\n    case PostgresTypes.timestamptz: // To allow users to cast it based on Timezone\n\n    case PostgresTypes.timetz: // To allow users to cast it based on Timezone\n\n    case PostgresTypes.tsrange:\n    case PostgresTypes.tstzrange:\n      return noop(value);\n\n    default:\n      // Return the value for remaining types\n      return noop(value);\n  }\n};\n\nconst noop = value => {\n  return value;\n};\n\nexport const toBoolean = value => {\n  switch (value) {\n    case 't':\n      return true;\n\n    case 'f':\n      return false;\n\n    default:\n      return value;\n  }\n};\nexport const toNumber = value => {\n  if (typeof value === 'string') {\n    const parsedValue = parseFloat(value);\n\n    if (!Number.isNaN(parsedValue)) {\n      return parsedValue;\n    }\n  }\n\n  return value;\n};\nexport const toJson = value => {\n  if (typeof value === 'string') {\n    try {\n      return JSON.parse(value);\n    } catch (error) {\n      console.log(\"JSON parse error: \".concat(error));\n      return value;\n    }\n  }\n\n  return value;\n};\n/**\n * Converts a Postgres Array into a native JS array\n *\n * @example toArray('{}', 'int4')\n * //=> []\n * @example toArray('{\"[2021-01-01,2021-12-31)\",\"(2021-01-01,2021-12-32]\"}', 'daterange')\n * //=> ['[2021-01-01,2021-12-31)', '(2021-01-01,2021-12-32]']\n * @example toArray([1,2,3,4], 'int4')\n * //=> [1,2,3,4]\n */\n\nexport const toArray = (value, type) => {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  const lastIdx = value.length - 1;\n  const closeBrace = value[lastIdx];\n  const openBrace = value[0]; // Confirm value is a Postgres array by checking curly brackets\n\n  if (openBrace === '{' && closeBrace === '}') {\n    let arr;\n    const valTrim = value.slice(1, lastIdx); // TODO: find a better solution to separate Postgres array data\n\n    try {\n      arr = JSON.parse('[' + valTrim + ']');\n    } catch (_) {\n      // WARNING: splitting on comma does not cover all edge cases\n      arr = valTrim ? valTrim.split(',') : [];\n    }\n\n    return arr.map(val => convertCell(type, val));\n  }\n\n  return value;\n};\n/**\n * Fixes timestamp to be ISO-8601. Swaps the space between the date and time for a 'T'\n * See https://github.com/supabase/supabase/issues/18\n *\n * @example toTimestampString('2019-09-10 00:00:00')\n * //=> '2019-09-10T00:00:00'\n */\n\nexport const toTimestampString = value => {\n  if (typeof value === 'string') {\n    return value.replace(' ', 'T');\n  }\n\n  return value;\n};","export const version = '1.7.4';","import { version } from './version';\nexport const DEFAULT_HEADERS = {\n  'X-Client-Info': \"realtime-js/\".concat(version)\n};\nexport const VSN = '1.0.0';\nexport const DEFAULT_TIMEOUT = 10000;\nexport const WS_CLOSE_NORMAL = 1000;\nexport var SOCKET_STATES;\n\n(function (SOCKET_STATES) {\n  SOCKET_STATES[SOCKET_STATES[\"connecting\"] = 0] = \"connecting\";\n  SOCKET_STATES[SOCKET_STATES[\"open\"] = 1] = \"open\";\n  SOCKET_STATES[SOCKET_STATES[\"closing\"] = 2] = \"closing\";\n  SOCKET_STATES[SOCKET_STATES[\"closed\"] = 3] = \"closed\";\n})(SOCKET_STATES || (SOCKET_STATES = {}));\n\nexport var CHANNEL_STATES;\n\n(function (CHANNEL_STATES) {\n  CHANNEL_STATES[\"closed\"] = \"closed\";\n  CHANNEL_STATES[\"errored\"] = \"errored\";\n  CHANNEL_STATES[\"joined\"] = \"joined\";\n  CHANNEL_STATES[\"joining\"] = \"joining\";\n  CHANNEL_STATES[\"leaving\"] = \"leaving\";\n})(CHANNEL_STATES || (CHANNEL_STATES = {}));\n\nexport var CHANNEL_EVENTS;\n\n(function (CHANNEL_EVENTS) {\n  CHANNEL_EVENTS[\"close\"] = \"phx_close\";\n  CHANNEL_EVENTS[\"error\"] = \"phx_error\";\n  CHANNEL_EVENTS[\"join\"] = \"phx_join\";\n  CHANNEL_EVENTS[\"reply\"] = \"phx_reply\";\n  CHANNEL_EVENTS[\"leave\"] = \"phx_leave\";\n  CHANNEL_EVENTS[\"access_token\"] = \"access_token\";\n})(CHANNEL_EVENTS || (CHANNEL_EVENTS = {}));\n\nexport var TRANSPORTS;\n\n(function (TRANSPORTS) {\n  TRANSPORTS[\"websocket\"] = \"websocket\";\n})(TRANSPORTS || (TRANSPORTS = {}));\n\nexport var CONNECTION_STATE;\n\n(function (CONNECTION_STATE) {\n  CONNECTION_STATE[\"Connecting\"] = \"connecting\";\n  CONNECTION_STATE[\"Open\"] = \"open\";\n  CONNECTION_STATE[\"Closing\"] = \"closing\";\n  CONNECTION_STATE[\"Closed\"] = \"closed\";\n})(CONNECTION_STATE || (CONNECTION_STATE = {}));","/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n  constructor(callback, timerCalc) {\n    this.callback = callback;\n    this.timerCalc = timerCalc;\n    this.timer = undefined;\n    this.tries = 0;\n    this.callback = callback;\n    this.timerCalc = timerCalc;\n  }\n\n  reset() {\n    this.tries = 0;\n    clearTimeout(this.timer);\n  } // Cancels any previous scheduleTimeout and schedules callback\n\n\n  scheduleTimeout() {\n    clearTimeout(this.timer);\n    this.timer = setTimeout(() => {\n      this.tries = this.tries + 1;\n      this.callback();\n    }, this.timerCalc(this.tries + 1));\n  }\n\n}","// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\nexport default class Serializer {\n  constructor() {\n    this.HEADER_LENGTH = 1;\n  }\n\n  decode(rawPayload, callback) {\n    if (rawPayload.constructor === ArrayBuffer) {\n      return callback(this._binaryDecode(rawPayload));\n    }\n\n    if (typeof rawPayload === 'string') {\n      return callback(JSON.parse(rawPayload));\n    }\n\n    return callback({});\n  }\n\n  _binaryDecode(buffer) {\n    const view = new DataView(buffer);\n    const decoder = new TextDecoder();\n    return this._decodeBroadcast(buffer, view, decoder);\n  }\n\n  _decodeBroadcast(buffer, view, decoder) {\n    const topicSize = view.getUint8(1);\n    const eventSize = view.getUint8(2);\n    let offset = this.HEADER_LENGTH + 2;\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n    offset = offset + topicSize;\n    const event = decoder.decode(buffer.slice(offset, offset + eventSize));\n    offset = offset + eventSize;\n    const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)));\n    return {\n      ref: null,\n      topic: topic,\n      event: event,\n      payload: data\n    };\n  }\n\n}","import { DEFAULT_TIMEOUT } from '../lib/constants';\nexport default class Push {\n  /**\n   * Initializes the Push\n   *\n   * @param channel The Channel\n   * @param event The event, for example `\"phx_join\"`\n   * @param payload The payload, for example `{user_id: 123}`\n   * @param timeout The push timeout in milliseconds\n   */\n  constructor(channel, event) {\n    let payload = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let timeout = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_TIMEOUT;\n    this.channel = channel;\n    this.event = event;\n    this.payload = payload;\n    this.timeout = timeout;\n    this.sent = false;\n    this.timeoutTimer = undefined;\n    this.ref = '';\n    this.receivedResp = null;\n    this.recHooks = [];\n    this.refEvent = null;\n  }\n\n  resend(timeout) {\n    this.timeout = timeout;\n\n    this._cancelRefEvent();\n\n    this.ref = '';\n    this.refEvent = null;\n    this.receivedResp = null;\n    this.sent = false;\n    this.send();\n  }\n\n  send() {\n    if (this._hasReceived('timeout')) {\n      return;\n    }\n\n    this.startTimeout();\n    this.sent = true;\n    this.channel.socket.push({\n      topic: this.channel.topic,\n      event: this.event,\n      payload: this.payload,\n      ref: this.ref\n    });\n  }\n\n  updatePayload(payload) {\n    this.payload = Object.assign(Object.assign({}, this.payload), payload);\n  }\n\n  receive(status, callback) {\n    var _a;\n\n    if (this._hasReceived(status)) {\n      callback((_a = this.receivedResp) === null || _a === void 0 ? void 0 : _a.response);\n    }\n\n    this.recHooks.push({\n      status,\n      callback\n    });\n    return this;\n  }\n\n  startTimeout() {\n    if (this.timeoutTimer) {\n      return;\n    }\n\n    this.ref = this.channel.socket.makeRef();\n    this.refEvent = this.channel.replyEventName(this.ref);\n\n    const callback = payload => {\n      this._cancelRefEvent();\n\n      this._cancelTimeout();\n\n      this.receivedResp = payload;\n\n      this._matchReceive(payload);\n    };\n\n    this.channel.on(this.refEvent, callback);\n    this.timeoutTimer = setTimeout(() => {\n      this.trigger('timeout', {});\n    }, this.timeout);\n  }\n\n  trigger(status, response) {\n    if (this.refEvent) this.channel.trigger(this.refEvent, {\n      status,\n      response\n    });\n  }\n\n  destroy() {\n    this._cancelRefEvent();\n\n    this._cancelTimeout();\n  }\n\n  _cancelRefEvent() {\n    if (!this.refEvent) {\n      return;\n    }\n\n    this.channel.off(this.refEvent);\n  }\n\n  _cancelTimeout() {\n    clearTimeout(this.timeoutTimer);\n    this.timeoutTimer = undefined;\n  }\n\n  _matchReceive(_ref) {\n    let {\n      status,\n      response\n    } = _ref;\n    this.recHooks.filter(h => h.status === status).forEach(h => h.callback(response));\n  }\n\n  _hasReceived(status) {\n    return this.receivedResp && this.receivedResp.status === status;\n  }\n\n}","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants';\nimport Push from './lib/push';\nimport Timer from './lib/timer';\nexport default class RealtimeSubscription {\n  constructor(topic) {\n    let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let socket = arguments.length > 2 ? arguments[2] : undefined;\n    this.topic = topic;\n    this.params = params;\n    this.socket = socket;\n    this.bindings = [];\n    this.state = CHANNEL_STATES.closed;\n    this.joinedOnce = false;\n    this.pushBuffer = [];\n    this.timeout = this.socket.timeout;\n    this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);\n    this.rejoinTimer = new Timer(() => this.rejoinUntilConnected(), this.socket.reconnectAfterMs);\n    this.joinPush.receive('ok', () => {\n      this.state = CHANNEL_STATES.joined;\n      this.rejoinTimer.reset();\n      this.pushBuffer.forEach(pushEvent => pushEvent.send());\n      this.pushBuffer = [];\n    });\n    this.onClose(() => {\n      this.rejoinTimer.reset();\n      this.socket.log('channel', \"close \".concat(this.topic, \" \").concat(this.joinRef()));\n      this.state = CHANNEL_STATES.closed;\n      this.socket.remove(this);\n    });\n    this.onError(reason => {\n      if (this.isLeaving() || this.isClosed()) {\n        return;\n      }\n\n      this.socket.log('channel', \"error \".concat(this.topic), reason);\n      this.state = CHANNEL_STATES.errored;\n      this.rejoinTimer.scheduleTimeout();\n    });\n    this.joinPush.receive('timeout', () => {\n      if (!this.isJoining()) {\n        return;\n      }\n\n      this.socket.log('channel', \"timeout \".concat(this.topic), this.joinPush.timeout);\n      this.state = CHANNEL_STATES.errored;\n      this.rejoinTimer.scheduleTimeout();\n    });\n    this.on(CHANNEL_EVENTS.reply, (payload, ref) => {\n      this.trigger(this.replyEventName(ref), payload);\n    });\n  }\n\n  rejoinUntilConnected() {\n    this.rejoinTimer.scheduleTimeout();\n\n    if (this.socket.isConnected()) {\n      this.rejoin();\n    }\n  }\n\n  subscribe() {\n    let timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.timeout;\n\n    if (this.joinedOnce) {\n      throw \"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance\";\n    } else {\n      this.joinedOnce = true;\n      this.rejoin(timeout);\n      return this.joinPush;\n    }\n  }\n\n  onClose(callback) {\n    this.on(CHANNEL_EVENTS.close, callback);\n  }\n\n  onError(callback) {\n    this.on(CHANNEL_EVENTS.error, reason => callback(reason));\n  }\n\n  on(event, callback) {\n    this.bindings.push({\n      event,\n      callback\n    });\n  }\n\n  off(event) {\n    this.bindings = this.bindings.filter(bind => bind.event !== event);\n  }\n\n  canPush() {\n    return this.socket.isConnected() && this.isJoined();\n  }\n\n  push(event, payload) {\n    let timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.timeout;\n\n    if (!this.joinedOnce) {\n      throw \"tried to push '\".concat(event, \"' to '\").concat(this.topic, \"' before joining. Use channel.subscribe() before pushing events\");\n    }\n\n    let pushEvent = new Push(this, event, payload, timeout);\n\n    if (this.canPush()) {\n      pushEvent.send();\n    } else {\n      pushEvent.startTimeout();\n      this.pushBuffer.push(pushEvent);\n    }\n\n    return pushEvent;\n  }\n\n  updateJoinPayload(payload) {\n    this.joinPush.updatePayload(payload);\n  }\n  /**\n   * Leaves the channel\n   *\n   * Unsubscribes from server events, and instructs channel to terminate on server.\n   * Triggers onClose() hooks.\n   *\n   * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n   * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n   */\n\n\n  unsubscribe() {\n    let timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.timeout;\n    this.state = CHANNEL_STATES.leaving;\n\n    let onClose = () => {\n      this.socket.log('channel', \"leave \".concat(this.topic));\n      this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef());\n    }; // Destroy joinPush to avoid connection timeouts during unscription phase\n\n\n    this.joinPush.destroy();\n    let leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout);\n    leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose());\n    leavePush.send();\n\n    if (!this.canPush()) {\n      leavePush.trigger('ok', {});\n    }\n\n    return leavePush;\n  }\n  /**\n   * Overridable message hook\n   *\n   * Receives all events for specialized message handling before dispatching to the channel callbacks.\n   * Must return the payload, modified or unmodified.\n   */\n\n\n  onMessage(event, payload, ref) {\n    return payload;\n  }\n\n  isMember(topic) {\n    return this.topic === topic;\n  }\n\n  joinRef() {\n    return this.joinPush.ref;\n  }\n\n  rejoin() {\n    let timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.timeout;\n\n    if (this.isLeaving()) {\n      return;\n    }\n\n    this.socket.leaveOpenTopic(this.topic);\n    this.state = CHANNEL_STATES.joining;\n    this.joinPush.resend(timeout);\n  }\n\n  trigger(event, payload, ref) {\n    let {\n      close,\n      error,\n      leave,\n      join\n    } = CHANNEL_EVENTS;\n    let events = [close, error, leave, join];\n\n    if (ref && events.indexOf(event) >= 0 && ref !== this.joinRef()) {\n      return;\n    }\n\n    let handledPayload = this.onMessage(event, payload, ref);\n\n    if (payload && !handledPayload) {\n      throw 'channel onMessage callbacks must return the payload, modified or unmodified';\n    }\n\n    this.bindings.filter(bind => {\n      // Bind all events if the user specifies a wildcard.\n      if (bind.event === '*') {\n        return event === (payload === null || payload === void 0 ? void 0 : payload.type);\n      } else {\n        return bind.event === event;\n      }\n    }).map(bind => bind.callback(handledPayload, ref));\n  }\n\n  replyEventName(ref) {\n    return \"chan_reply_\".concat(ref);\n  }\n\n  isClosed() {\n    return this.state === CHANNEL_STATES.closed;\n  }\n\n  isErrored() {\n    return this.state === CHANNEL_STATES.errored;\n  }\n\n  isJoined() {\n    return this.state === CHANNEL_STATES.joined;\n  }\n\n  isJoining() {\n    return this.state === CHANNEL_STATES.joining;\n  }\n\n  isLeaving() {\n    return this.state === CHANNEL_STATES.leaving;\n  }\n\n}","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { w3cwebsocket } from 'websocket';\nimport { VSN, CHANNEL_EVENTS, TRANSPORTS, SOCKET_STATES, DEFAULT_TIMEOUT, WS_CLOSE_NORMAL, DEFAULT_HEADERS, CONNECTION_STATE } from './lib/constants';\nimport Timer from './lib/timer';\nimport Serializer from './lib/serializer';\nimport RealtimeSubscription from './RealtimeSubscription';\n\nconst noop = () => {};\n\nexport default class RealtimeClient {\n  /**\n   * Initializes the Socket.\n   *\n   * @param endPoint The string WebSocket endpoint, ie, \"ws://example.com/socket\", \"wss://example.com\", \"/socket\" (inherited host & protocol)\n   * @param options.transport The Websocket Transport, for example WebSocket.\n   * @param options.timeout The default timeout in milliseconds to trigger push timeouts.\n   * @param options.params The optional params to pass when connecting.\n   * @param options.headers The optional headers to pass when connecting.\n   * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.\n   * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n   * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))\n   * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.\n   * @param options.longpollerTimeout The maximum timeout of a long poll AJAX request. Defaults to 20s (double the server long poll timer).\n   * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.\n   */\n  constructor(endPoint, options) {\n    this.accessToken = null;\n    this.channels = [];\n    this.endPoint = '';\n    this.headers = DEFAULT_HEADERS;\n    this.params = {};\n    this.timeout = DEFAULT_TIMEOUT;\n    this.transport = w3cwebsocket;\n    this.heartbeatIntervalMs = 30000;\n    this.longpollerTimeout = 20000;\n    this.heartbeatTimer = undefined;\n    this.pendingHeartbeatRef = null;\n    this.ref = 0;\n    this.logger = noop;\n    this.conn = null;\n    this.sendBuffer = [];\n    this.serializer = new Serializer();\n    this.stateChangeCallbacks = {\n      open: [],\n      close: [],\n      error: [],\n      message: []\n    };\n    this.endPoint = \"\".concat(endPoint, \"/\").concat(TRANSPORTS.websocket);\n    if (options === null || options === void 0 ? void 0 : options.params) this.params = options.params;\n    if (options === null || options === void 0 ? void 0 : options.headers) this.headers = Object.assign(Object.assign({}, this.headers), options.headers);\n    if (options === null || options === void 0 ? void 0 : options.timeout) this.timeout = options.timeout;\n    if (options === null || options === void 0 ? void 0 : options.logger) this.logger = options.logger;\n    if (options === null || options === void 0 ? void 0 : options.transport) this.transport = options.transport;\n    if (options === null || options === void 0 ? void 0 : options.heartbeatIntervalMs) this.heartbeatIntervalMs = options.heartbeatIntervalMs;\n    if (options === null || options === void 0 ? void 0 : options.longpollerTimeout) this.longpollerTimeout = options.longpollerTimeout;\n    this.reconnectAfterMs = (options === null || options === void 0 ? void 0 : options.reconnectAfterMs) ? options.reconnectAfterMs : tries => {\n      return [1000, 2000, 5000, 10000][tries - 1] || 10000;\n    };\n    this.encode = (options === null || options === void 0 ? void 0 : options.encode) ? options.encode : (payload, callback) => {\n      return callback(JSON.stringify(payload));\n    };\n    this.decode = (options === null || options === void 0 ? void 0 : options.decode) ? options.decode : this.serializer.decode.bind(this.serializer);\n    this.reconnectTimer = new Timer(() => __awaiter(this, void 0, void 0, function* () {\n      yield this.disconnect();\n      this.connect();\n    }), this.reconnectAfterMs);\n  }\n  /**\n   * Connects the socket, unless already connected.\n   */\n\n\n  connect() {\n    if (this.conn) {\n      return;\n    }\n\n    this.conn = new this.transport(this.endPointURL(), [], null, this.headers);\n\n    if (this.conn) {\n      // this.conn.timeout = this.longpollerTimeout // TYPE ERROR\n      this.conn.binaryType = 'arraybuffer';\n\n      this.conn.onopen = () => this._onConnOpen();\n\n      this.conn.onerror = error => this._onConnError(error);\n\n      this.conn.onmessage = event => this.onConnMessage(event);\n\n      this.conn.onclose = event => this._onConnClose(event);\n    }\n  }\n  /**\n   * Disconnects the socket.\n   *\n   * @param code A numeric status code to send on disconnect.\n   * @param reason A custom reason for the disconnect.\n   */\n\n\n  disconnect(code, reason) {\n    return new Promise((resolve, _reject) => {\n      try {\n        if (this.conn) {\n          this.conn.onclose = function () {}; // noop\n\n\n          if (code) {\n            this.conn.close(code, reason || '');\n          } else {\n            this.conn.close();\n          }\n\n          this.conn = null; // remove open handles\n\n          this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n          this.reconnectTimer.reset();\n        }\n\n        resolve({\n          error: null,\n          data: true\n        });\n      } catch (error) {\n        resolve({\n          error: error,\n          data: false\n        });\n      }\n    });\n  }\n  /**\n   * Logs the message.\n   *\n   * For customized logging, `this.logger` can be overriden.\n   */\n\n\n  log(kind, msg, data) {\n    this.logger(kind, msg, data);\n  }\n  /**\n   * Registers a callback for connection state change event.\n   *\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen(() => console.log(\"Socket opened.\"))\n   */\n\n\n  onOpen(callback) {\n    this.stateChangeCallbacks.open.push(callback);\n  }\n  /**\n   * Registers a callback for connection state change events.\n   *\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen(() => console.log(\"Socket closed.\"))\n   */\n\n\n  onClose(callback) {\n    this.stateChangeCallbacks.close.push(callback);\n  }\n  /**\n   * Registers a callback for connection state change events.\n   *\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onOpen((error) => console.log(\"An error occurred\"))\n   */\n\n\n  onError(callback) {\n    this.stateChangeCallbacks.error.push(callback);\n  }\n  /**\n   * Calls a function any time a message is received.\n   *\n   * @param callback A function to be called when the event occurs.\n   *\n   * @example\n   *    socket.onMessage((message) => console.log(message))\n   */\n\n\n  onMessage(callback) {\n    this.stateChangeCallbacks.message.push(callback);\n  }\n  /**\n   * Returns the current state of the socket.\n   */\n\n\n  connectionState() {\n    switch (this.conn && this.conn.readyState) {\n      case SOCKET_STATES.connecting:\n        return CONNECTION_STATE.Connecting;\n\n      case SOCKET_STATES.open:\n        return CONNECTION_STATE.Open;\n\n      case SOCKET_STATES.closing:\n        return CONNECTION_STATE.Closing;\n\n      default:\n        return CONNECTION_STATE.Closed;\n    }\n  }\n  /**\n   * Retuns `true` is the connection is open.\n   */\n\n\n  isConnected() {\n    return this.connectionState() === CONNECTION_STATE.Open;\n  }\n  /**\n   * Removes a subscription from the socket.\n   *\n   * @param channel An open subscription.\n   */\n\n\n  remove(channel) {\n    this.channels = this.channels.filter(c => c.joinRef() !== channel.joinRef());\n  }\n\n  channel(topic) {\n    let chanParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const chan = new RealtimeSubscription(topic, chanParams, this);\n    this.channels.push(chan);\n    return chan;\n  }\n  /**\n   * Push out a message if the socket is connected.\n   *\n   * If the socket is not connected, the message gets enqueued within a local buffer, and sent out when a connection is next established.\n   */\n\n\n  push(data) {\n    const {\n      topic,\n      event,\n      payload,\n      ref\n    } = data;\n\n    let callback = () => {\n      this.encode(data, result => {\n        var _a;\n\n        (_a = this.conn) === null || _a === void 0 ? void 0 : _a.send(result);\n      });\n    };\n\n    this.log('push', \"\".concat(topic, \" \").concat(event, \" (\").concat(ref, \")\"), payload);\n\n    if (this.isConnected()) {\n      callback();\n    } else {\n      this.sendBuffer.push(callback);\n    }\n  }\n\n  onConnMessage(rawMessage) {\n    this.decode(rawMessage.data, msg => {\n      let {\n        topic,\n        event,\n        payload,\n        ref\n      } = msg;\n\n      if (ref && ref === this.pendingHeartbeatRef || event === (payload === null || payload === void 0 ? void 0 : payload.type)) {\n        this.pendingHeartbeatRef = null;\n      }\n\n      this.log('receive', \"\".concat(payload.status || '', \" \").concat(topic, \" \").concat(event, \" \").concat(ref && '(' + ref + ')' || ''), payload);\n      this.channels.filter(channel => channel.isMember(topic)).forEach(channel => channel.trigger(event, payload, ref));\n      this.stateChangeCallbacks.message.forEach(callback => callback(msg));\n    });\n  }\n  /**\n   * Returns the URL of the websocket.\n   */\n\n\n  endPointURL() {\n    return this._appendParams(this.endPoint, Object.assign({}, this.params, {\n      vsn: VSN\n    }));\n  }\n  /**\n   * Return the next message ref, accounting for overflows\n   */\n\n\n  makeRef() {\n    let newRef = this.ref + 1;\n\n    if (newRef === this.ref) {\n      this.ref = 0;\n    } else {\n      this.ref = newRef;\n    }\n\n    return this.ref.toString();\n  }\n  /**\n   * Sets the JWT access token used for channel subscription authorization and Realtime RLS.\n   *\n   * @param token A JWT string.\n   */\n\n\n  setAuth(token) {\n    this.accessToken = token;\n    this.channels.forEach(channel => {\n      token && channel.updateJoinPayload({\n        user_token: token\n      });\n\n      if (channel.joinedOnce && channel.isJoined()) {\n        channel.push(CHANNEL_EVENTS.access_token, {\n          access_token: token\n        });\n      }\n    });\n  }\n  /**\n   * Unsubscribe from channels with the specified topic.\n   */\n\n\n  leaveOpenTopic(topic) {\n    let dupChannel = this.channels.find(c => c.topic === topic && (c.isJoined() || c.isJoining()));\n\n    if (dupChannel) {\n      this.log('transport', \"leaving duplicate topic \\\"\".concat(topic, \"\\\"\"));\n      dupChannel.unsubscribe();\n    }\n  }\n\n  _onConnOpen() {\n    this.log('transport', \"connected to \".concat(this.endPointURL()));\n\n    this._flushSendBuffer();\n\n    this.reconnectTimer.reset();\n    this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n    this.heartbeatTimer = setInterval(() => this._sendHeartbeat(), this.heartbeatIntervalMs);\n    this.stateChangeCallbacks.open.forEach(callback => callback());\n  }\n\n  _onConnClose(event) {\n    this.log('transport', 'close', event);\n\n    this._triggerChanError();\n\n    this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n    this.reconnectTimer.scheduleTimeout();\n    this.stateChangeCallbacks.close.forEach(callback => callback(event));\n  }\n\n  _onConnError(error) {\n    this.log('transport', error.message);\n\n    this._triggerChanError();\n\n    this.stateChangeCallbacks.error.forEach(callback => callback(error));\n  }\n\n  _triggerChanError() {\n    this.channels.forEach(channel => channel.trigger(CHANNEL_EVENTS.error));\n  }\n\n  _appendParams(url, params) {\n    if (Object.keys(params).length === 0) {\n      return url;\n    }\n\n    const prefix = url.match(/\\?/) ? '&' : '?';\n    const query = new URLSearchParams(params);\n    return \"\".concat(url).concat(prefix).concat(query);\n  }\n\n  _flushSendBuffer() {\n    if (this.isConnected() && this.sendBuffer.length > 0) {\n      this.sendBuffer.forEach(callback => callback());\n      this.sendBuffer = [];\n    }\n  }\n\n  _sendHeartbeat() {\n    var _a;\n\n    if (!this.isConnected()) {\n      return;\n    }\n\n    if (this.pendingHeartbeatRef) {\n      this.pendingHeartbeatRef = null;\n      this.log('transport', 'heartbeat timeout. Attempting to re-establish connection');\n      (_a = this.conn) === null || _a === void 0 ? void 0 : _a.close(WS_CLOSE_NORMAL, 'hearbeat timeout');\n      return;\n    }\n\n    this.pendingHeartbeatRef = this.makeRef();\n    this.push({\n      topic: 'phoenix',\n      event: 'heartbeat',\n      payload: {},\n      ref: this.pendingHeartbeatRef\n    });\n    this.setAuth(this.accessToken);\n  }\n\n}","import { Transformers } from '@supabase/realtime-js';\nexport class SupabaseRealtimeClient {\n  constructor(socket, headers, schema, tableName) {\n    const chanParams = {};\n    const topic = tableName === '*' ? \"realtime:\".concat(schema) : \"realtime:\".concat(schema, \":\").concat(tableName);\n    const userToken = headers['Authorization'].split(' ')[1];\n\n    if (userToken) {\n      chanParams['user_token'] = userToken;\n    }\n\n    this.subscription = socket.channel(topic, chanParams);\n  }\n\n  getPayloadRecords(payload) {\n    const records = {\n      new: {},\n      old: {}\n    };\n\n    if (payload.type === 'INSERT' || payload.type === 'UPDATE') {\n      records.new = Transformers.convertChangeData(payload.columns, payload.record);\n    }\n\n    if (payload.type === 'UPDATE' || payload.type === 'DELETE') {\n      records.old = Transformers.convertChangeData(payload.columns, payload.old_record);\n    }\n\n    return records;\n  }\n  /**\n   * The event you want to listen to.\n   *\n   * @param event The event\n   * @param callback A callback function that is called whenever the event occurs.\n   */\n\n\n  on(event, callback) {\n    this.subscription.on(event, payload => {\n      let enrichedPayload = {\n        schema: payload.schema,\n        table: payload.table,\n        commit_timestamp: payload.commit_timestamp,\n        eventType: payload.type,\n        new: {},\n        old: {},\n        errors: payload.errors\n      };\n      enrichedPayload = Object.assign(Object.assign({}, enrichedPayload), this.getPayloadRecords(payload));\n      callback(enrichedPayload);\n    });\n    return this;\n  }\n  /**\n   * Enables the subscription.\n   */\n\n\n  subscribe() {\n    let callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : () => {};\n    this.subscription.onError(e => callback('SUBSCRIPTION_ERROR', e));\n    this.subscription.onClose(() => callback('CLOSED'));\n    this.subscription.subscribe().receive('ok', () => callback('SUBSCRIBED')).receive('error', e => callback('SUBSCRIPTION_ERROR', e)).receive('timeout', () => callback('RETRYING_AFTER_TIMEOUT'));\n    return this.subscription;\n  }\n\n}","import { PostgrestQueryBuilder } from '@supabase/postgrest-js';\nimport { SupabaseRealtimeClient } from './SupabaseRealtimeClient';\nexport class SupabaseQueryBuilder extends PostgrestQueryBuilder {\n  constructor(url, _ref) {\n    let {\n      headers = {},\n      schema,\n      realtime,\n      table,\n      fetch,\n      shouldThrowOnError\n    } = _ref;\n    super(url, {\n      headers,\n      schema,\n      fetch,\n      shouldThrowOnError\n    });\n    this._subscription = null;\n    this._realtime = realtime;\n    this._headers = headers;\n    this._schema = schema;\n    this._table = table;\n  }\n  /**\n   * Subscribe to realtime changes in your database.\n   * @param event The database event which you would like to receive updates for, or you can use the special wildcard `*` to listen to all changes.\n   * @param callback A callback that will handle the payload that is sent whenever your database changes.\n   */\n\n\n  on(event, callback) {\n    if (!this._realtime.isConnected()) {\n      this._realtime.connect();\n    }\n\n    if (!this._subscription) {\n      this._subscription = new SupabaseRealtimeClient(this._realtime, this._headers, this._schema, this._table);\n    }\n\n    return this._subscription.on(event, callback);\n  }\n\n}","// generated by genversion\nexport const version = '1.7.3';","import { version } from './version';\nexport const DEFAULT_HEADERS = {\n  'X-Client-Info': \"storage-js/\".concat(version)\n};","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nconst _getErrorMessage = err => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\n\nconst handleError = (error, reject) => {\n  if (typeof error.json !== 'function') {\n    return reject(error);\n  }\n\n  error.json().then(err => {\n    return reject({\n      message: _getErrorMessage(err),\n      status: (error === null || error === void 0 ? void 0 : error.status) || 500\n    });\n  });\n};\n\nconst _getRequestParams = (method, options, parameters, body) => {\n  const params = {\n    method,\n    headers: (options === null || options === void 0 ? void 0 : options.headers) || {}\n  };\n\n  if (method === 'GET') {\n    return params;\n  }\n\n  params.headers = Object.assign({\n    'Content-Type': 'application/json'\n  }, options === null || options === void 0 ? void 0 : options.headers);\n  params.body = JSON.stringify(body);\n  return Object.assign(Object.assign({}, params), parameters);\n};\n\nfunction _handleRequest(fetcher, method, url, options, parameters, body) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return new Promise((resolve, reject) => {\n      fetcher(url, _getRequestParams(method, options, parameters, body)).then(result => {\n        if (!result.ok) throw result;\n        if (options === null || options === void 0 ? void 0 : options.noResolveJson) return resolve(result);\n        return result.json();\n      }).then(data => resolve(data)).catch(error => handleError(error, reject));\n    });\n  });\n}\n\nexport function get(fetcher, url, options, parameters) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return _handleRequest(fetcher, 'GET', url, options, parameters);\n  });\n}\nexport function post(fetcher, url, body, options, parameters) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return _handleRequest(fetcher, 'POST', url, options, parameters, body);\n  });\n}\nexport function put(fetcher, url, body, options, parameters) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return _handleRequest(fetcher, 'PUT', url, options, parameters, body);\n  });\n}\nexport function remove(fetcher, url, body, options, parameters) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return _handleRequest(fetcher, 'DELETE', url, options, parameters, body);\n  });\n}","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nexport const resolveFetch = customFetch => {\n  let _fetch;\n\n  if (customFetch) {\n    _fetch = customFetch;\n  } else if (typeof fetch === 'undefined') {\n    _fetch = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return __awaiter(void 0, void 0, void 0, function* () {\n        return yield (yield import('cross-fetch')).fetch(...args);\n      });\n    };\n  } else {\n    _fetch = fetch;\n  }\n\n  return function () {\n    return _fetch(...arguments);\n  };\n};","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { DEFAULT_HEADERS } from './constants';\nimport { get, post, put, remove } from './fetch';\nimport { resolveFetch } from './helpers';\nexport class StorageBucketApi {\n  constructor(url) {\n    let headers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let fetch = arguments.length > 2 ? arguments[2] : undefined;\n    this.url = url;\n    this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n    this.fetch = resolveFetch(fetch);\n  }\n  /**\n   * Retrieves the details of all Storage buckets within an existing project.\n   */\n\n\n  listBuckets() {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield get(this.fetch, \"\".concat(this.url, \"/bucket\"), {\n          headers: this.headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Retrieves the details of an existing Storage bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to retrieve.\n   */\n\n\n  getBucket(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield get(this.fetch, \"\".concat(this.url, \"/bucket/\").concat(id), {\n          headers: this.headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Creates a new Storage bucket\n   *\n   * @param id A unique identifier for the bucket you are creating.\n   * @returns newly created bucket id\n   */\n\n\n  createBucket(id) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      public: false\n    };\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/bucket\"), {\n          id,\n          name: id,\n          public: options.public\n        }, {\n          headers: this.headers\n        });\n        return {\n          data: data.name,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Updates a new Storage bucket\n   *\n   * @param id A unique identifier for the bucket you are updating.\n   */\n\n\n  updateBucket(id, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield put(this.fetch, \"\".concat(this.url, \"/bucket/\").concat(id), {\n          id,\n          name: id,\n          public: options.public\n        }, {\n          headers: this.headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Removes all objects inside a single bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to empty.\n   */\n\n\n  emptyBucket(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/bucket/\").concat(id, \"/empty\"), {}, {\n          headers: this.headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.\n   * You must first `empty()` the bucket.\n   *\n   * @param id The unique identifier of the bucket you would like to delete.\n   */\n\n\n  deleteBucket(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield remove(this.fetch, \"\".concat(this.url, \"/bucket/\").concat(id), {}, {\n          headers: this.headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n\n}","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { get, post, remove } from './fetch';\nimport { resolveFetch } from './helpers';\nconst DEFAULT_SEARCH_OPTIONS = {\n  limit: 100,\n  offset: 0,\n  sortBy: {\n    column: 'name',\n    order: 'asc'\n  }\n};\nconst DEFAULT_FILE_OPTIONS = {\n  cacheControl: '3600',\n  contentType: 'text/plain;charset=UTF-8',\n  upsert: false\n};\nexport class StorageFileApi {\n  constructor(url) {\n    let headers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let bucketId = arguments.length > 2 ? arguments[2] : undefined;\n    let fetch = arguments.length > 3 ? arguments[3] : undefined;\n    this.url = url;\n    this.headers = headers;\n    this.bucketId = bucketId;\n    this.fetch = resolveFetch(fetch);\n  }\n  /**\n   * Uploads a file to an existing bucket or replaces an existing file at the specified path with a new one.\n   *\n   * @param method HTTP method.\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n\n\n  uploadOrUpdate(method, path, fileBody, fileOptions) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        let body;\n        const options = Object.assign(Object.assign({}, DEFAULT_FILE_OPTIONS), fileOptions);\n        const headers = Object.assign(Object.assign({}, this.headers), method === 'POST' && {\n          'x-upsert': String(options.upsert)\n        });\n\n        if (typeof Blob !== 'undefined' && fileBody instanceof Blob) {\n          body = new FormData();\n          body.append('cacheControl', options.cacheControl);\n          body.append('', fileBody);\n        } else if (typeof FormData !== 'undefined' && fileBody instanceof FormData) {\n          body = fileBody;\n          body.append('cacheControl', options.cacheControl);\n        } else {\n          body = fileBody;\n          headers['cache-control'] = \"max-age=\".concat(options.cacheControl);\n          headers['content-type'] = options.contentType;\n        }\n\n        const cleanPath = this._removeEmptyFolders(path);\n\n        const _path = this._getFinalPath(cleanPath);\n\n        const res = yield this.fetch(\"\".concat(this.url, \"/object/\").concat(_path), {\n          method,\n          body: body,\n          headers\n        });\n\n        if (res.ok) {\n          // const data = await res.json()\n          // temporary fix till backend is updated to the latest storage-api version\n          return {\n            data: {\n              Key: _path\n            },\n            error: null\n          };\n        } else {\n          const error = yield res.json();\n          return {\n            data: null,\n            error\n          };\n        }\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Uploads a file to an existing bucket.\n   *\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n\n\n  upload(path, fileBody, fileOptions) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.uploadOrUpdate('POST', path, fileBody, fileOptions);\n    });\n  }\n  /**\n   * Replaces an existing file at the specified path with a new one.\n   *\n   * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n   * @param fileBody The body of the file to be stored in the bucket.\n   * @param fileOptions HTTP headers.\n   * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n   * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n   * `upsert`: boolean, whether to perform an upsert.\n   */\n\n\n  update(path, fileBody, fileOptions) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.uploadOrUpdate('PUT', path, fileBody, fileOptions);\n    });\n  }\n  /**\n   * Moves an existing file.\n   *\n   * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n   * @param toPath The new file path, including the new file name. For example `folder/image-new.png`.\n   */\n\n\n  move(fromPath, toPath) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/object/move\"), {\n          bucketId: this.bucketId,\n          sourceKey: fromPath,\n          destinationKey: toPath\n        }, {\n          headers: this.headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Copies an existing file.\n   *\n   * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n   * @param toPath The new file path, including the new file name. For example `folder/image-copy.png`.\n   */\n\n\n  copy(fromPath, toPath) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/object/copy\"), {\n          bucketId: this.bucketId,\n          sourceKey: fromPath,\n          destinationKey: toPath\n        }, {\n          headers: this.headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Create signed URL to download file without requiring permissions. This URL can be valid for a set number of seconds.\n   *\n   * @param path The file path to be downloaded, including the current file name. For example `folder/image.png`.\n   * @param expiresIn The number of seconds until the signed URL expires. For example, `60` for a URL which is valid for one minute.\n   */\n\n\n  createSignedUrl(path, expiresIn) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const _path = this._getFinalPath(path);\n\n        let data = yield post(this.fetch, \"\".concat(this.url, \"/object/sign/\").concat(_path), {\n          expiresIn\n        }, {\n          headers: this.headers\n        });\n        const signedURL = \"\".concat(this.url).concat(data.signedURL);\n        data = {\n          signedURL\n        };\n        return {\n          data,\n          error: null,\n          signedURL\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error,\n          signedURL: null\n        };\n      }\n    });\n  }\n  /**\n   * Create signed URLs to download files without requiring permissions. These URLs can be valid for a set number of seconds.\n   *\n   * @param paths The file paths to be downloaded, including the current file names. For example `['folder/image.png', 'folder2/image2.png']`.\n   * @param expiresIn The number of seconds until the signed URLs expire. For example, `60` for URLs which are valid for one minute.\n   */\n\n\n  createSignedUrls(paths, expiresIn) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/object/sign/\").concat(this.bucketId), {\n          expiresIn,\n          paths\n        }, {\n          headers: this.headers\n        });\n        return {\n          data: data.map(datum => Object.assign(Object.assign({}, datum), {\n            signedURL: datum.signedURL ? \"\".concat(this.url).concat(datum.signedURL) : null\n          })),\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Downloads a file.\n   *\n   * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n   */\n\n\n  download(path) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const _path = this._getFinalPath(path);\n\n        const res = yield get(this.fetch, \"\".concat(this.url, \"/object/\").concat(_path), {\n          headers: this.headers,\n          noResolveJson: true\n        });\n        const data = yield res.blob();\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Retrieve URLs for assets in public buckets\n   *\n   * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n   */\n\n\n  getPublicUrl(path) {\n    try {\n      const _path = this._getFinalPath(path);\n\n      const publicURL = \"\".concat(this.url, \"/object/public/\").concat(_path);\n      const data = {\n        publicURL\n      };\n      return {\n        data,\n        error: null,\n        publicURL\n      };\n    } catch (error) {\n      return {\n        data: null,\n        error,\n        publicURL: null\n      };\n    }\n  }\n  /**\n   * Deletes files within the same bucket\n   *\n   * @param paths An array of files to be deleted, including the path and file name. For example [`folder/image.png`].\n   */\n\n\n  remove(paths) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const data = yield remove(this.fetch, \"\".concat(this.url, \"/object/\").concat(this.bucketId), {\n          prefixes: paths\n        }, {\n          headers: this.headers\n        });\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n  /**\n   * Get file metadata\n   * @param id the file id to retrieve metadata\n   */\n  // async getMetadata(id: string): Promise<{ data: Metadata | null; error: Error | null }> {\n  //   try {\n  //     const data = await get(`${this.url}/metadata/${id}`, { headers: this.headers })\n  //     return { data, error: null }\n  //   } catch (error) {\n  //     return { data: null, error }\n  //   }\n  // }\n\n  /**\n   * Update file metadata\n   * @param id the file id to update metadata\n   * @param meta the new file metadata\n   */\n  // async updateMetadata(\n  //   id: string,\n  //   meta: Metadata\n  // ): Promise<{ data: Metadata | null; error: Error | null }> {\n  //   try {\n  //     const data = await post(`${this.url}/metadata/${id}`, { ...meta }, { headers: this.headers })\n  //     return { data, error: null }\n  //   } catch (error) {\n  //     return { data: null, error }\n  //   }\n  // }\n\n  /**\n   * Lists all the files within a bucket.\n   * @param path The folder path.\n   * @param options Search options, including `limit`, `offset`, `sortBy`, and `search`.\n   * @param parameters Fetch parameters, currently only supports `signal`, which is an AbortController's signal\n   */\n\n\n  list(path, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const body = Object.assign(Object.assign(Object.assign({}, DEFAULT_SEARCH_OPTIONS), options), {\n          prefix: path || ''\n        });\n        const data = yield post(this.fetch, \"\".concat(this.url, \"/object/list/\").concat(this.bucketId), body, {\n          headers: this.headers\n        }, parameters);\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n\n  _getFinalPath(path) {\n    return \"\".concat(this.bucketId, \"/\").concat(path);\n  }\n\n  _removeEmptyFolders(path) {\n    return path.replace(/^\\/|\\/$/g, '').replace(/\\/+/g, '/');\n  }\n\n}","import { StorageBucketApi, StorageFileApi } from './lib';\nexport class StorageClient extends StorageBucketApi {\n  constructor(url) {\n    let headers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let fetch = arguments.length > 2 ? arguments[2] : undefined;\n    super(url, headers, fetch);\n  }\n  /**\n   * Perform file operation in a bucket.\n   *\n   * @param id The bucket id to operate on.\n   */\n\n\n  from(id) {\n    return new StorageFileApi(this.url, this.headers, id, this.fetch);\n  }\n\n}","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nexport const resolveFetch = customFetch => {\n  let _fetch;\n\n  if (customFetch) {\n    _fetch = customFetch;\n  } else if (typeof fetch === 'undefined') {\n    _fetch = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return __awaiter(void 0, void 0, void 0, function* () {\n        return yield (yield import('cross-fetch')).fetch(...args);\n      });\n    };\n  } else {\n    _fetch = fetch;\n  }\n\n  return function () {\n    return _fetch(...arguments);\n  };\n};","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { resolveFetch } from './helper';\nexport class FunctionsClient {\n  constructor(url) {\n    let {\n      headers = {},\n      customFetch\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.url = url;\n    this.headers = headers;\n    this.fetch = resolveFetch(customFetch);\n  }\n  /**\n   * Updates the authorization header\n   * @params token - the new jwt token sent in the authorisation header\n   */\n\n\n  setAuth(token) {\n    this.headers.Authorization = \"Bearer \".concat(token);\n  }\n  /**\n   * Invokes a function\n   * @param functionName - the name of the function to invoke\n   * @param invokeOptions - object with the following properties\n   * `headers`: object representing the headers to send with the request\n   * `body`: the body of the request\n   * `responseType`: how the response should be parsed. The default is `json`\n   */\n\n\n  invoke(functionName, invokeOptions) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const {\n          headers,\n          body\n        } = invokeOptions !== null && invokeOptions !== void 0 ? invokeOptions : {};\n        const response = yield this.fetch(\"\".concat(this.url, \"/\").concat(functionName), {\n          method: 'POST',\n          headers: Object.assign({}, this.headers, headers),\n          body\n        });\n        const isRelayError = response.headers.get('x-relay-error');\n\n        if (isRelayError && isRelayError === 'true') {\n          return {\n            data: null,\n            error: new Error(yield response.text())\n          };\n        }\n\n        let data;\n        const {\n          responseType\n        } = invokeOptions !== null && invokeOptions !== void 0 ? invokeOptions : {};\n\n        if (!responseType || responseType === 'json') {\n          data = yield response.json();\n        } else if (responseType === 'arrayBuffer') {\n          data = yield response.arrayBuffer();\n        } else if (responseType === 'blob') {\n          data = yield response.blob();\n        } else {\n          data = yield response.text();\n        }\n\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    });\n  }\n\n}","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { DEFAULT_HEADERS, STORAGE_KEY } from './lib/constants';\nimport { stripTrailingSlash, isBrowser } from './lib/helpers';\nimport { SupabaseAuthClient } from './lib/SupabaseAuthClient';\nimport { SupabaseQueryBuilder } from './lib/SupabaseQueryBuilder';\nimport { SupabaseStorageClient } from '@supabase/storage-js';\nimport { FunctionsClient } from '@supabase/functions-js';\nimport { PostgrestClient } from '@supabase/postgrest-js';\nimport { RealtimeClient } from '@supabase/realtime-js';\nconst DEFAULT_OPTIONS = {\n  schema: 'public',\n  autoRefreshToken: true,\n  persistSession: true,\n  detectSessionInUrl: true,\n  multiTab: true,\n  headers: DEFAULT_HEADERS\n};\n/**\n * Supabase Client.\n *\n * An isomorphic Javascript client for interacting with Postgres.\n */\n\nexport default class SupabaseClient {\n  /**\n   * Create a new client for use in the browser.\n   * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n   * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n   * @param options.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n   * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n   * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n   * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n   * @param options.headers Any additional headers to send with each network request.\n   * @param options.realtime Options passed along to realtime-js constructor.\n   * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n   * @param options.fetch A custom fetch implementation.\n   */\n  constructor(supabaseUrl, supabaseKey, options) {\n    this.supabaseUrl = supabaseUrl;\n    this.supabaseKey = supabaseKey;\n    if (!supabaseUrl) throw new Error('supabaseUrl is required.');\n    if (!supabaseKey) throw new Error('supabaseKey is required.');\n\n    const _supabaseUrl = stripTrailingSlash(supabaseUrl);\n\n    const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n    this.restUrl = \"\".concat(_supabaseUrl, \"/rest/v1\");\n    this.realtimeUrl = \"\".concat(_supabaseUrl, \"/realtime/v1\").replace('http', 'ws');\n    this.authUrl = \"\".concat(_supabaseUrl, \"/auth/v1\");\n    this.storageUrl = \"\".concat(_supabaseUrl, \"/storage/v1\");\n\n    const isPlatform = _supabaseUrl.match(/(supabase\\.co)|(supabase\\.in)/);\n\n    if (isPlatform) {\n      const urlParts = _supabaseUrl.split('.');\n\n      this.functionsUrl = \"\".concat(urlParts[0], \".functions.\").concat(urlParts[1], \".\").concat(urlParts[2]);\n    } else {\n      this.functionsUrl = \"\".concat(_supabaseUrl, \"/functions/v1\");\n    }\n\n    this.schema = settings.schema;\n    this.multiTab = settings.multiTab;\n    this.fetch = settings.fetch;\n    this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), options === null || options === void 0 ? void 0 : options.headers);\n    this.shouldThrowOnError = settings.shouldThrowOnError || false;\n    this.auth = this._initSupabaseAuthClient(settings);\n    this.realtime = this._initRealtimeClient(Object.assign({\n      headers: this.headers\n    }, settings.realtime));\n\n    this._listenForAuthEvents();\n\n    this._listenForMultiTabEvents(); // In the future we might allow the user to pass in a logger to receive these events.\n    // this.realtime.onOpen(() => console.log('OPEN'))\n    // this.realtime.onClose(() => console.log('CLOSED'))\n    // this.realtime.onError((e: Error) => console.log('Socket error', e))\n\n  }\n  /**\n   * Supabase Functions allows you to deploy and invoke edge functions.\n   */\n\n\n  get functions() {\n    return new FunctionsClient(this.functionsUrl, {\n      headers: this._getAuthHeaders(),\n      customFetch: this.fetch\n    });\n  }\n  /**\n   * Supabase Storage allows you to manage user-generated content, such as photos or videos.\n   */\n\n\n  get storage() {\n    return new SupabaseStorageClient(this.storageUrl, this._getAuthHeaders(), this.fetch);\n  }\n  /**\n   * Perform a table operation.\n   *\n   * @param table The table name to operate on.\n   */\n\n\n  from(table) {\n    const url = \"\".concat(this.restUrl, \"/\").concat(table);\n    return new SupabaseQueryBuilder(url, {\n      headers: this._getAuthHeaders(),\n      schema: this.schema,\n      realtime: this.realtime,\n      table,\n      fetch: this.fetch,\n      shouldThrowOnError: this.shouldThrowOnError\n    });\n  }\n  /**\n   * Perform a function call.\n   *\n   * @param fn  The function name to call.\n   * @param params  The parameters to pass to the function call.\n   * @param head   When set to true, no data will be returned.\n   * @param count  Count algorithm to use to count rows in a table.\n   *\n   */\n\n\n  rpc(fn, params) {\n    let {\n      head = false,\n      count = null\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    const rest = this._initPostgRESTClient();\n\n    return rest.rpc(fn, params, {\n      head,\n      count\n    });\n  }\n  /**\n   * Closes and removes all subscriptions and returns a list of removed\n   * subscriptions and their errors.\n   */\n\n\n  removeAllSubscriptions() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const allSubs = this.getSubscriptions().slice();\n      const allSubPromises = allSubs.map(sub => this.removeSubscription(sub));\n      const allRemovedSubs = yield Promise.all(allSubPromises);\n      return allRemovedSubs.map((_ref, i) => {\n        let {\n          error\n        } = _ref;\n        return {\n          data: {\n            subscription: allSubs[i]\n          },\n          error\n        };\n      });\n    });\n  }\n  /**\n   * Closes and removes a subscription and returns the number of open subscriptions.\n   *\n   * @param subscription The subscription you want to close and remove.\n   */\n\n\n  removeSubscription(subscription) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const {\n        error\n      } = yield this._closeSubscription(subscription);\n      const allSubs = this.getSubscriptions();\n      const openSubCount = allSubs.filter(chan => chan.isJoined()).length;\n      if (allSubs.length === 0) yield this.realtime.disconnect();\n      return {\n        data: {\n          openSubscriptions: openSubCount\n        },\n        error\n      };\n    });\n  }\n\n  _closeSubscription(subscription) {\n    return __awaiter(this, void 0, void 0, function* () {\n      let error = null;\n\n      if (!subscription.isClosed()) {\n        const {\n          error: unsubError\n        } = yield this._unsubscribeSubscription(subscription);\n        error = unsubError;\n      }\n\n      this.realtime.remove(subscription);\n      return {\n        error\n      };\n    });\n  }\n\n  _unsubscribeSubscription(subscription) {\n    return new Promise(resolve => {\n      subscription.unsubscribe().receive('ok', () => resolve({\n        error: null\n      })).receive('error', error => resolve({\n        error\n      })).receive('timeout', () => resolve({\n        error: new Error('timed out')\n      }));\n    });\n  }\n  /**\n   * Returns an array of all your subscriptions.\n   */\n\n\n  getSubscriptions() {\n    return this.realtime.channels;\n  }\n\n  _initSupabaseAuthClient(_ref2) {\n    let {\n      autoRefreshToken,\n      persistSession,\n      detectSessionInUrl,\n      localStorage,\n      headers,\n      fetch,\n      cookieOptions,\n      multiTab\n    } = _ref2;\n    const authHeaders = {\n      Authorization: \"Bearer \".concat(this.supabaseKey),\n      apikey: \"\".concat(this.supabaseKey)\n    };\n    return new SupabaseAuthClient({\n      url: this.authUrl,\n      headers: Object.assign(Object.assign({}, headers), authHeaders),\n      autoRefreshToken,\n      persistSession,\n      detectSessionInUrl,\n      localStorage,\n      fetch,\n      cookieOptions,\n      multiTab\n    });\n  }\n\n  _initRealtimeClient(options) {\n    return new RealtimeClient(this.realtimeUrl, Object.assign(Object.assign({}, options), {\n      params: Object.assign(Object.assign({}, options === null || options === void 0 ? void 0 : options.params), {\n        apikey: this.supabaseKey\n      })\n    }));\n  }\n\n  _initPostgRESTClient() {\n    return new PostgrestClient(this.restUrl, {\n      headers: this._getAuthHeaders(),\n      schema: this.schema,\n      fetch: this.fetch,\n      throwOnError: this.shouldThrowOnError\n    });\n  }\n\n  _getAuthHeaders() {\n    var _a, _b;\n\n    const headers = Object.assign({}, this.headers);\n    const authBearer = (_b = (_a = this.auth.session()) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : this.supabaseKey;\n    headers['apikey'] = this.supabaseKey;\n    headers['Authorization'] = headers['Authorization'] || \"Bearer \".concat(authBearer);\n    return headers;\n  }\n\n  _listenForMultiTabEvents() {\n    if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n      return null;\n    }\n\n    try {\n      return window === null || window === void 0 ? void 0 : window.addEventListener('storage', e => {\n        var _a, _b, _c;\n\n        if (e.key === STORAGE_KEY) {\n          const newSession = JSON.parse(String(e.newValue));\n          const accessToken = (_b = (_a = newSession === null || newSession === void 0 ? void 0 : newSession.currentSession) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : undefined;\n          const previousAccessToken = (_c = this.auth.session()) === null || _c === void 0 ? void 0 : _c.access_token;\n\n          if (!accessToken) {\n            this._handleTokenChanged('SIGNED_OUT', accessToken, 'STORAGE');\n          } else if (!previousAccessToken && accessToken) {\n            this._handleTokenChanged('SIGNED_IN', accessToken, 'STORAGE');\n          } else if (previousAccessToken !== accessToken) {\n            this._handleTokenChanged('TOKEN_REFRESHED', accessToken, 'STORAGE');\n          }\n        }\n      });\n    } catch (error) {\n      console.error('_listenForMultiTabEvents', error);\n      return null;\n    }\n  }\n\n  _listenForAuthEvents() {\n    let {\n      data\n    } = this.auth.onAuthStateChange((event, session) => {\n      this._handleTokenChanged(event, session === null || session === void 0 ? void 0 : session.access_token, 'CLIENT');\n    });\n    return data;\n  }\n\n  _handleTokenChanged(event, token, source) {\n    if ((event === 'TOKEN_REFRESHED' || event === 'SIGNED_IN') && this.changedAccessToken !== token) {\n      // Token has changed\n      this.realtime.setAuth(token); // Ideally we should call this.auth.recoverSession() - need to make public\n      // to trigger a \"SIGNED_IN\" event on this client.\n\n      if (source == 'STORAGE') this.auth.setAuth(token);\n      this.changedAccessToken = token;\n    } else if (event === 'SIGNED_OUT' || event === 'USER_DELETED') {\n      // Token is removed\n      this.realtime.setAuth(this.supabaseKey);\n      if (source == 'STORAGE') this.auth.signOut();\n    }\n  }\n\n}","import SupabaseClient from './SupabaseClient';\nexport * from '@supabase/gotrue-js';\nexport * from '@supabase/realtime-js';\n/**\n * Creates a new Supabase Client.\n */\n\nconst createClient = (supabaseUrl, supabaseKey, options) => {\n  return new SupabaseClient(supabaseUrl, supabaseKey, options);\n};\n\nexport { createClient, SupabaseClient };","import { createClient } from '@supabase/supabase-js'\nimport { SupabaseStorageClient } from '@supabase/storage-js'\n\nconst supabase = createClient('https://jytgbqxbelkvpgsdtlrw.supabase.co', `${process.env.GATSBY_PUBLIC_SUPABASE_ANON_KEY}`)\n\nconst STORAGE_URL = 'https://jytgbqxbelkvpgsdtlrw.supabase.co/storage/v1'\nconst SERVICE_KEY = `${process.env.GATSBY_SUPABASE_SERVICE_ROLE}` //! service key, not anon key\n\nconst storageClient = new SupabaseStorageClient(STORAGE_URL, {\n  apikey: SERVICE_KEY,\n  Authorization: `Bearer ${SERVICE_KEY}`,\n})\n\nexport { supabase, storageClient }","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var isConstructor = require('../internals/is-constructor');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a constructor');\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar uncurryThis = NATIVE_BIND && bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? function (fn) {\n  return fn && uncurryThis(fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es-x/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es-x/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function (it, metadata) {\n    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar empty = [];\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (String(name).slice(0, 7) === 'Symbol(') {\n    name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es-x/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar aCallable = require('../internals/a-callable');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aCallable(resolve);\n  this.reject = aCallable(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es-x/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.23.4',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.23.4/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","var anObject = require('../internals/an-object');\nvar aConstructor = require('../internals/a-constructor');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aConstructor(S);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromiseConstructor && fails(function () {\n  // eslint-disable-next-line unicorn/no-thenable -- required for testing\n  NativePromisePrototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = isCallable(onFinally);\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\nif (!IS_PURE && isCallable(NativePromiseConstructor)) {\n  var method = getBuiltIn('Promise').prototype['finally'];\n  if (NativePromisePrototype['finally'] !== method) {\n    defineBuiltIn(NativePromisePrototype, 'finally', method, { unsafe: true });\n  }\n}\n"],"names":["naiveFallback","self","window","Error","module","exports","this","globalThis","Object","defineProperty","prototype","get","configurable","error","__global__","_globalThis","NativeWebSocket","WebSocket","MozWebSocket","websocket_version","W3CWebSocket","uri","protocols","forEach","prop","center","loader","props","className","styles","join","DEFAULT_HEADERS","concat","NETWORK_FAILURE","COOKIE_OPTIONS","name","lifetime","domain","path","sameSite","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","_getErrorMessage","err","msg","message","error_description","JSON","stringify","_handleRequest","fetcher","method","url","options","body","params","headers","assign","_getRequestParams","ok","noResolveJson","json","data","catch","status","handleError","post","put","serializeCookie","cookie","secure","_a","_b","_c","val","opt","enc","encodeURIComponent","fieldContentRegExp","TypeError","test","str","maxAge","isNaN","isFinite","Math","floor","expires","toUTCString","httpOnly","toLowerCase","serialize","Date","now","getCookieString","req","res","cookies","strCookies","map","c","host","indexOf","split","endsWith","isSecureEnvironment","previousCookies","getHeader","Array","push","setCookies","setHeader","expiresAt","expiresIn","round","getParameterByName","location","href","replace","results","RegExp","exec","decodeURIComponent","resolveFetch","customFetch","_fetch","fetch","_len","arguments","length","args","_key","GoTrueApi","constructor","_ref","cookieOptions","_createRequestHeaders","jwt","cookieName","getUrlForProvider","provider","urlParams","redirectTo","scopes","queryParams","query","URLSearchParams","signUpWithEmail","email","password","undefined","queryString","gotrue_meta_security","captcha_token","captchaToken","session","expires_in","expires_at","signInWithEmail","signUpWithPhone","phone","signInWithPhone","signInWithOpenIDConnect","_ref2","id_token","nonce","client_id","issuer","sendMagicLinkEmail","shouldCreateUser","create_user","sendMobileOTP","signOut","verifyMobileOTP","token","type","redirect_to","verifyOTP","_ref3","inviteUserByEmail","resetPasswordForEmail","refreshAccessToken","refreshToken","refresh_token","setAuthCookie","end","event","key","access_token","deleteAuthCookie","_ref4","redirect","getAuthCookieString","generateLink","createUser","attributes","user","listUsers","users","getUserById","uid","getUserByCookie","getUserError","getUser","updateUserById","deleteUser","remove","updateUser","__magic__","polyfillGlobalThis","DEFAULT_OPTIONS","autoRefreshToken","persistSession","detectSessionInUrl","multiTab","SupabaseAuthClient","stateChangeEmitters","Map","networkRetries","settings","currentUser","currentSession","localStorage","api","_recoverSession","_recoverAndRefresh","_listenForMultiTabEvents","_handleVisibilityChange","getSessionFromUrl","storeSession","signUp","_removeSession","_saveSession","_notifyAllSubscribers","id","signIn","oidc","_handleEmailSignIn","_handlePhoneSignIn","_callRefreshToken","_handleProviderSignIn","_handleOpenIDConnectSignIn","refreshSession","update","setSession","setAuth","token_type","provider_token","parseInt","recoveryMode","hash","accessToken","onAuthStateChange","callback","r","random","toString","subscription","unsubscribe","delete","set","confirmed_at","email_confirmed_at","phone_confirmed_at","storage","getItem","parse","getItemSynchronously","console","log","refreshTokenTimer","clearTimeout","setTimeout","pow","x","refreshDurationBeforeExpires","_startAutoRefreshToken","_persistSession","setItem","setItemAsync","removeItem","unref","addEventListener","newSession","String","newValue","document","visibilityState","super","PostgrestBuilder","builder","_this","shouldThrowOnError","allowEmpty","throwOnError","onfulfilled","onrejected","schema","includes","signal","_d","count","statusText","isReturnMinimal","text","countHeader","match","contentRange","_e","details","fetchError","hint","code","PostgrestTransformBuilder","select","quoted","cleanedColumns","searchParams","order","column","ascending","nullsFirst","foreignTable","existingOrder","limit","range","from","to","keyOffset","keyLimit","abortSignal","single","maybeSingle","csv","PostgrestFilterBuilder","cs","contains","cd","containedBy","sl","rangeLt","sr","rangeGt","nxl","rangeGte","nxr","rangeLte","adj","rangeAdjacent","ov","overlaps","not","operator","append","or","filters","eq","neq","gt","gte","lt","lte","like","pattern","ilike","is","in","values","cleanedValues","s","isArray","textSearch","config","typePart","configPart","fts","plfts","phfts","wfts","filter","keys","PostgrestQueryBuilder","URL","columns","head","insert","upsert","onConflict","returning","prefersHeaders","unshift","reduce","acc","uniqueColumns","Set","ignoreDuplicates","PostgrestRpcBuilder","rpc","entries","PostgrestClient","auth","table","fn","PostgresTypes","convertChangeData","record","skipTypes","rec_key","convertColumn","columnName","find","colType","convertCell","noop","charAt","dataType","slice","toArray","bool","toBoolean","float4","float8","int2","int4","int8","numeric","oid","toNumber","jsonb","toJson","timestamp","toTimestampString","abstime","date","daterange","int4range","int8range","money","reltime","time","timestamptz","timetz","tsrange","tstzrange","parsedValue","parseFloat","Number","lastIdx","closeBrace","arr","valTrim","_","SOCKET_STATES","CHANNEL_STATES","CHANNEL_EVENTS","TRANSPORTS","CONNECTION_STATE","Timer","timerCalc","timer","tries","reset","scheduleTimeout","Serializer","HEADER_LENGTH","decode","rawPayload","ArrayBuffer","_binaryDecode","buffer","view","DataView","decoder","TextDecoder","_decodeBroadcast","topicSize","getUint8","eventSize","offset","topic","ref","payload","byteLength","Push","channel","timeout","sent","timeoutTimer","receivedResp","recHooks","refEvent","resend","_cancelRefEvent","send","_hasReceived","startTimeout","socket","updatePayload","receive","response","makeRef","replyEventName","on","_cancelTimeout","_matchReceive","trigger","destroy","off","h","RealtimeSubscription","bindings","state","closed","joinedOnce","pushBuffer","joinPush","rejoinTimer","rejoinUntilConnected","reconnectAfterMs","joined","pushEvent","onClose","joinRef","onError","reason","isLeaving","isClosed","errored","isJoining","reply","isConnected","rejoin","subscribe","close","bind","canPush","isJoined","updateJoinPayload","leaving","leavePush","leave","onMessage","isMember","leaveOpenTopic","joining","handledPayload","isErrored","RealtimeClient","endPoint","channels","transport","w3cwebsocket","heartbeatIntervalMs","longpollerTimeout","heartbeatTimer","pendingHeartbeatRef","logger","conn","sendBuffer","serializer","stateChangeCallbacks","open","websocket","encode","reconnectTimer","disconnect","connect","endPointURL","binaryType","onopen","_onConnOpen","onerror","_onConnError","onmessage","onConnMessage","onclose","_onConnClose","_reject","clearInterval","kind","onOpen","connectionState","readyState","connecting","Connecting","Open","closing","Closing","Closed","chan","rawMessage","_appendParams","vsn","newRef","user_token","dupChannel","_flushSendBuffer","setInterval","_sendHeartbeat","_triggerChanError","prefix","SupabaseRealtimeClient","tableName","chanParams","userToken","getPayloadRecords","records","new","old","old_record","enrichedPayload","commit_timestamp","eventType","errors","SupabaseQueryBuilder","realtime","_subscription","_realtime","_headers","_schema","_table","parameters","DEFAULT_SEARCH_OPTIONS","sortBy","DEFAULT_FILE_OPTIONS","cacheControl","contentType","StorageFileApi","bucketId","uploadOrUpdate","fileBody","fileOptions","Blob","FormData","cleanPath","_removeEmptyFolders","_path","_getFinalPath","Key","upload","move","fromPath","toPath","sourceKey","destinationKey","copy","createSignedUrl","signedURL","createSignedUrls","paths","datum","download","blob","getPublicUrl","publicURL","prefixes","list","StorageClient","listBuckets","getBucket","createBucket","public","updateBucket","emptyBucket","deleteBucket","FunctionsClient","Authorization","invoke","functionName","invokeOptions","isRelayError","responseType","arrayBuffer","SupabaseClient","supabaseUrl","supabaseKey","_supabaseUrl","restUrl","realtimeUrl","authUrl","storageUrl","urlParts","functionsUrl","_initSupabaseAuthClient","_initRealtimeClient","_listenForAuthEvents","functions","_getAuthHeaders","_initPostgRESTClient","removeAllSubscriptions","allSubs","getSubscriptions","allSubPromises","sub","removeSubscription","all","i","_closeSubscription","openSubCount","openSubscriptions","unsubError","_unsubscribeSubscription","authHeaders","apikey","authBearer","previousAccessToken","_handleTokenChanged","source","changedAccessToken","supabase","process","GATSBY_PUBLIC_SUPABASE_ANON_KEY","SERVICE_KEY","GATSBY_SUPABASE_SERVICE_ROLE","SupabaseStorageClient","isCallable","tryToString","$TypeError","argument","isConstructor","isObject","$String","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","O","index","uncurryThis","stringSlice","it","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","wellKnownSymbol","$Object","CORRECT_ARGUMENTS","tag","tryGet","callee","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","target","exceptions","f","getOwnPropertyDescriptor","DESCRIPTORS","createPropertyDescriptor","object","bitmap","enumerable","writable","makeBuiltIn","defineGlobalProperty","simple","global","unsafe","nonConfigurable","nonWritable","fails","EXISTS","createElement","getBuiltIn","version","userAgent","Deno","versions","v8","createNonEnumerableProperty","defineBuiltIn","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","forced","sham","hasOwnProperty","NATIVE_BIND","call","Function","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","aFunction","namespace","aCallable","V","func","check","g","toObject","a","classof","propertyIsEnumerable","store","functionToString","inspectSource","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","TYPE","empty","construct","constructorRegExp","INCORRECT_TO_STRING","isConstructorModern","isConstructorLegacy","called","replacement","feature","detection","normalize","POLYFILL","NATIVE","string","isPrototypeOf","USE_SYMBOL_AS_UID","$Symbol","toLength","obj","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","CONFIGURABLE_LENGTH","TEMPLATE","getter","setter","arity","ceil","trunc","n","V8_VERSION","getOwnPropertySymbols","symbol","Symbol","PromiseCapability","C","promise","$$resolve","$$reject","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","current","propertyIsEnumerableModule","internalObjectKeys","getOwnPropertyNames","names","$propertyIsEnumerable","NASHORN_BUG","input","pref","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","newPromiseCapability","promiseCapability","SHARED","IS_PURE","mode","copyright","license","aConstructor","SPECIES","defaultConstructor","S","toIntegerOrInfinity","max","min","integer","IndexedObject","requireObjectCoercible","number","isSymbol","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","postfix","NATIVE_SYMBOL","iterator","WellKnownSymbolsStore","symbolFor","createWellKnownSymbol","withoutSetter","description","$","NativePromiseConstructor","speciesConstructor","promiseResolve","NativePromisePrototype","proto","real","onFinally","isFunction"],"sourceRoot":""}